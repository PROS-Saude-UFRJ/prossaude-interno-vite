import{r as o,v as c,j as e,i as d,E as i,y as m,T as u,X as f,D as x,L as h,G as p}from"./index-C1Kn7LbF.js";import{W as v}from"./Watcher-BDRFVEtf.js";import{E as j}from"./ErrorFallbackDlg-BlD7iaAe.js";import"./gRoutingHandlers-CSpceJ5l.js";function g({dispatch:a,state:n=!0}){const r=o.useRef(null),t=()=>{a(!n),!n&&r.current instanceof HTMLDialogElement&&r.current.close()};return o.useEffect(()=>{n&&r.current instanceof HTMLDialogElement&&r.current.showModal(),c([...r.current.querySelectorAll("*"),r.current]);const s=l=>{l.key==="Escape"&&t()};return addEventListener("keydown",s),()=>removeEventListener("keydown",s)},[r,t]),e.jsx(e.Fragment,{children:n&&e.jsx("dialog",{role:"alertdialog",ref:r,className:"modal-content modal-content-fit wid80",id:"recover-alert",onClick:s=>{d(s,s.currentTarget).some(l=>l===!0)&&(s.currentTarget.close(),a(!n))},children:e.jsx(i,{FallbackComponent:()=>e.jsx(j,{renderError:new Error("Erro carregando a janela modal!"),onClick:t}),children:e.jsxs("section",{role:"alert",className:"flexNoWC flexJtC flexAlItCt rGap2v",children:[e.jsxs("div",{role:"group",className:"flexJtC flexAlItCt flexNoWC wsBs noInvert",children:[e.jsx("p",{children:e.jsx("b",{children:"Solicitação enviada!"})}),e.jsx("p",{children:"Verifique a caixa de entrada do seu e-mail para os próximos passos."})]}),e.jsx("button",{className:"btn btn-secondary bolded",onClick:t,children:"Fechar"})]})})})})}function b(){const a=o.useRef(null),[n,r]=o.useState(!1);return o.useEffect(()=>m(a.current)),e.jsxs("form",{ref:a,id:"recover-form",name:"recover_form",method:"post",action:"",encType:"application/x-www-form-urlencoded",onSubmit:t=>u(t).then(s=>{t.preventDefault(),s[0]&&f("recover",s[2],!0)}),children:[e.jsxs("section",{id:"recover-titles",className:"recover-sect",children:[e.jsx("h1",{children:"Recuperação de Senha"}),e.jsx("p",{children:"Forneça as informações solicitadas para prosseguir!"})]}),e.jsx("section",{id:"recover-entries",className:"recover-sect",children:e.jsxs("fieldset",{id:"recover-email__fs",className:"recover-entries__fs",children:[e.jsx("label",{htmlFor:"recover-email__inp",id:"recover-email__lab",className:"form-label",children:"E-mail:"}),e.jsx("input",{type:"email",placeholder:"Digite aqui o seu e-mail",id:"recover-email__inp",className:"form-control minText patternText",autoComplete:"email",minLength:5,"data-reqlength":"5","data-pattern":"@","data-flags":"g",required:!0,onInput:t=>x(t.currentTarget)})]})}),e.jsxs("section",{id:"recover-cta-sect",className:"recover-sect",children:[e.jsx("button",{type:"submit",id:"submit-recover",className:"btn btn-info",onClick:t=>{t.preventDefault(),r(!0)},children:"Enviar"}),e.jsx("button",{type:"reset",id:"login-return",className:"btn btn-primary",children:e.jsx("a",{href:"#",id:"login-anchor",children:e.jsx(h,{to:"/login",children:"Retornar"})})})]}),e.jsx("div",{id:"modal-div",children:n&&e.jsx(g,{dispatch:r,state:n})})]})}function R(){return e.jsxs(i,{FallbackComponent:()=>e.jsx(p,{message:"Error loading Recover Password Page!"}),children:[e.jsx("div",{id:"bgDiv",children:e.jsx(b,{})}),e.jsx(v,{routeCase:"recover"})]})}export{R as default};
