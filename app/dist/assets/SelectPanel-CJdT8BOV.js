const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ScheduleForm-HFFVwHmR.js","assets/index-C1Kn7LbF.js","assets/index-cmaRC7w9.css","assets/ErrorFallbackDlg-BlD7iaAe.js","assets/panel-CSa-xXsp.js","assets/TipsBtn-xgur9iM4.js","assets/UserProfilePanel-Du1wpZ5d.js","assets/gRoutingHandlers-CSpceJ5l.js"])))=>i.map(i=>d[i]);
var Fe=r=>{throw TypeError(r)};var Be=(r,t,o)=>t.has(r)||Fe("Cannot "+o);var fe=(r,t,o)=>(Be(r,t,"read from private field"),o?o.call(r):t.get(r)),De=(r,t,o)=>t.has(r)?Fe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,o),me=(r,t,o,n)=>(Be(r,t,"write to private field"),n?n.call(r,o):t.set(r,o),o);import{I as oe,a as h,b as C,aj as X,r as x,ai as I,x as K,al as he,i as Q,v as w,e as E,j as e,E as H,f as P,a1 as ot,z as J,l as A,Q as nt,C as U,q as Le,p as O,d as Xe,G as q,am as at,O as lt,an as st,ao as be,y as Z,M as ne,a3 as ae,V as ie,W,ap as ct,aq as Y,ar as it,as as we,at as b,S as le,au as z,av as de,aw as G,T as Ke,X as Ze,D as k,m as je,R as dt,_ as ut,A as ft,ax as mt}from"./index-C1Kn7LbF.js";import{E as ue}from"./ErrorFallbackDlg-BlD7iaAe.js";import{P as D,M as pt}from"./panel-CSa-xXsp.js";import{h as ht}from"./gRoutingHandlers-CSpceJ5l.js";function B(r="estudante",t=["coordenador"],...o){var n,l,s,i,a,c,f,d;try{if(typeof r!="string")throw oe("validating type of userClass in handleClientPermissions",r,"string",h(new Error));if(!(Array.isArray(t)&&t.every(p=>typeof p=="string")))throw C(`${JSON.stringify(t)}`,"allowedClasses",h(new Error));if(Array.isArray(o)&&o.every(p=>p instanceof Element)){let p=`Permissõnes não concedidas. 
      Campos afetados:
`;for(let m=0;m<o.length;m++)(o[m]instanceof HTMLInputElement||o[m]instanceof HTMLButtonElement||o[m]instanceof HTMLSelectElement||o[m]instanceof HTMLTextAreaElement)&&(o[m].disabled=!0,(n=o[m])!=null&&n.classList.contains("btn")&&!((l=o[m])!=null&&l.classList.contains("btn-secondary"))&&o[m].classList.add("btn-secondary","blocked"),t.some(u=>new RegExp(u,"gi").test(r))?(o[m].disabled=!1,(s=o[m])!=null&&s.classList.contains("btn")&&((i=o[m])!=null&&i.classList.contains("btn-secondary"))&&((a=o[m])!=null&&a.classList.contains("blocked"))&&((c=o[m])==null||c.classList.remove("btn-secondary","blocked"))):p+=`Element ${m+1}. 
 ${((f=o[m])==null?void 0:f.id)||((d=o[m])==null?void 0:d.tagName)||"Não identificado"}
`,/Element/g.test(p)&&console.warn(p)),(o[m]instanceof HTMLDataListElement||o[m]instanceof HTMLTableElement)&&(t.some(u=>new RegExp(u,"gi").test(r))||o[m].remove())}else throw C(o,"Elements for handleSupervisionCredential",h(new Error))}catch(p){console.error(`ERROR:
		${p.message}.`)}}const N={jan:"ERRO! Tabela de mês 1 sem conteúdo! ❌❗",janValues:[],feb:"ERRO! Tabela de mês 2 sem conteúdo! ❌❗",febValues:[],mar:"ERRO! Tabela de mês 3 sem conteúdo! ❌❗",marValues:[],apr:"ERRO! Tabela de mês 4 sem conteúdo! ❌❗",aprValues:[],may:"ERRO! Tabela de mês 5 sem conteúdo! ❌❗",mayValues:[],jun:"ERRO! Tabela de mês 6 sem conteúdo! ❌❗",junValues:[],jul:"ERRO! Tabela de mês 7 sem conteúdo! ❌❗",julValues:[],aug:"ERRO! Tabela de mês 8 sem conteúdo! ❌❗",augValues:[],sep:"ERRO! Tabela de mês 9 sem conteúdo! ❌❗",sepValues:[],oct:"ERRO! Tabela de mês 10 sem conteúdo! ❌❗",octValues:[],nov:"ERRO! Tabela de mês 11 sem conteúdo! ❌❗",novValues:[],dec:"ERRO! Tabela de mês 12 sem conteúdo! ❌❗",decValues:[]},$={isAutoFillMonthOn:!1,isAutocorrectStudOn:!1,isAutofillStudOn:!1,isAutocorrectProfOn:!1,isAutofillProfOn:!1},re=[],_={rootDlg:void 0};function ce(r,t,o=!1,n=6e5){const l=new X;return x.useEffect(()=>{I[r]=l;const s=l.autoResetTimer(n),i=location.pathname,a=()=>s&&clearInterval(s),c=()=>location.pathname!==i?(s&&clearInterval(s),!0):!1;return addEventListener("beforeunload",()=>{a(),removeEventListener("beforeunload",a)},{once:!0}),addEventListener("popstate",()=>{c()&&removeEventListener("popstate",c)}),K(t??document),o&&addEventListener("beforeunload",he),()=>{he(),c(),removeEventListener("popstate",c),a(),removeEventListener("beforeunload",a),o&&removeEventListener("beforeunload",he)}},[r,n]),l}function Te({setDisplayAptList:r,data:t,btnId:o,shouldDisplayAptList:n,isDirectRender:l=!1}){var d,p;const s=x.useContext(D).userClass;document.getElementById("transfArea")||console.warn("Transfer area was not found by AptDataList.");const a=document.querySelector(`[id*="${o}"]`),c=x.useRef(null),f=()=>{try{n=!n,_.rootDlg&&(n?_.rootDlg.render(e.jsx(Te,{setDisplayAptList:r,shouldDisplayAptList:n,data:t,btnId:o})):_.rootDlg.unmount())}catch(m){console.warn(`Error rendering AptDataList:
      ${m.message};
      Initiating root recovering attempt.`);try{const u=document.getElementById("rootDlgList");if(!(u instanceof HTMLElement))throw E(u,"attemp to recreate rootDlg",h(new Error));P(u).unmount()}catch(u){console.error(`Error rendering AptDataList:
        ${u.message};
        Failed to salvage rootDlg.`)}}};return x.useEffect(()=>{const m=()=>{try{n=!n,_.rootDlg&&(n?_.rootDlg.render(e.jsx(Te,{setDisplayAptList:r,shouldDisplayAptList:n,data:t,btnId:o})):_.rootDlg.unmount())}catch(u){console.warn(`Error rendering AptDataList:
        ${u.message};
        Initiating root recovering attempt.`);try{const g=document.getElementById("rootDlgList");if(!(g instanceof HTMLElement))throw E(g,"attemp to recreate rootDlg",h(new Error));P(g).unmount()}catch(g){console.error(`Error rendering AptDataList:
          ${g.message};
          Failed to salvage rootDlg.`)}}};if(c.current instanceof HTMLDialogElement){c.current.showModal(),c.current.addEventListener("click",function(j){j.currentTarget&&Q(j,j.currentTarget).some(y=>y===!0)&&(l?m():r(!n))}),w([...c.current.querySelectorAll("*"),c.current]);const u=c.current.querySelector('[id*="btnExport"]');u instanceof HTMLButtonElement?K(c.current):E(u,"Button for generating spreadsheet in appointment modal",h(new Error)),a instanceof HTMLButtonElement?a.addEventListener("click",()=>{var j,y;r(n),n?(j=c.current)==null||j.showModal():(y=c.current)==null||y.close()}):E(a,"transferBtn for AptDataList",h(new Error));const g=j=>{j.key==="Escape"&&(l?m():r(!n))};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)}},[c,t.cpf,t.date,r,a,l]),ce("aptExporter",c.current),n?e.jsx("div",{role:"group",className:"aptDiv",children:n&&e.jsx("dialog",{className:"modal-content-stk2",id:`dlg-${o}`,ref:c,onClick:m=>{Q(m,m.currentTarget).some(u=>u===!0)&&r(!n)},children:e.jsxs(H,{FallbackComponent:()=>e.jsx(ue,{renderError:new Error("Erro carregando a janela modal!"),onClick:()=>{l?f():r(!n)}}),children:[e.jsxs("div",{role:"group",className:"flexRNoWBetCt cGap2v widQ460_120v",id:"headRegstPac",children:[e.jsx("h2",{className:"mg-1b",children:e.jsx("strong",{children:"Registro de Consulta"})}),e.jsx("button",{className:"btn btn-close forceInvert",onClick:()=>{l?f():r(!n)}})]}),e.jsxs("table",{className:"table table-striped table-responsive table-hover tabApt",children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",children:e.jsxs("em",{className:"noInvert",children:["Lista Recuperada da Ficha de Consultas registradas. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[e.jsx("col",{}),e.jsx("col",{})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-row1",children:[e.jsx("th",{scope:"col",children:"Informação"}),e.jsx("th",{scope:"col",children:"Valor"})]})}),e.jsxs("tbody",{children:[s==="coordenador"&&e.jsxs("tr",{className:"rowCPFPacCons",children:[e.jsx("th",{children:e.jsx("output",{children:e.jsx("strong",{children:"CPF do Paciente: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpCPFPac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}`,name:`CPFPac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`CPF Paciente ${t.name||"Anônimo"}-out`,children:`${t.cpf||"000.000.000-00"}`})})]}),e.jsxs("tr",{className:"rowNamePacCons",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"Nome: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpNamePac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}`,name:`namePac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`Nome Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${t.name||"Anônimo"}`})})]}),e.jsxs("tr",{className:"rowTelPacCons",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"Telefone: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpTelPac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}`,name:`namePac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`Nome Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${t.tel||"00 00 0000-0000"}`})})]}),e.jsxs("tr",{className:"rowEmailPacCons",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"E-mail: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpEmailPac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}`,name:`emailPac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`Nome Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${t.email||"Não preenchido"}`})})]}),e.jsxs("tr",{className:"rowTypeCons",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"Tipo da Consulta: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpTypeConsPac${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}`,name:`typeCons${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`Tipo da Consulta Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${((d=t.typecons)==null?void 0:d.slice(0,1).toUpperCase())+((p=t.typecons)==null?void 0:p.slice(1,t.typecons.length))||"Indefinida"}`})})]}),e.jsxs("tr",{className:"rowStudCons",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"Estudante Alocado: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpStudCons${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,name:`relStud${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`Nome do Estudante Alocado Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${t.relstud||"Indefinido"}`})})]}),e.jsxs("tr",{className:"rowProfCons",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"Profissional Alocado: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpProfCons${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,name:`relProf${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}`,"data-title":`Nome do Profissional Alocado Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${t.relprof||"Indefinido"}`})})]}),e.jsxs("tr",{className:"rowNotes",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"Observações: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpNotesCons${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,name:`notes${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`Notas Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${t.notes||"Não preenchido"}`})})]}),e.jsxs("tr",{className:"confirmCons",children:[e.jsx("th",{children:e.jsx("span",{role:"textbox",children:e.jsx("strong",{children:"Confirmado: "})})}),e.jsx("td",{children:e.jsx("output",{id:`outpConfirmCons${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,name:`confirm${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}-out`,"data-title":`Confirmação Paciente ${t.name||"Anônimo"}_${t.date||"0000-00-00"}-out`,children:`${t.confirm||"Não"}`})})]})]})]}),e.jsx("div",{role:"group",className:"flexWR flexAlItCt flexJSb widFull widQ460MinFull",id:"divExportPac",children:e.jsx("button",{type:"button",id:`btnExport${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}}`,name:`btnExport${t.cpf||"Unidentified"}_${t.date||"0000-00-00"}`,"data-active":"false",className:"btn btn-info opaqueLightEl widFull",onClick:m=>{var u;I.aptExporter||(I.aptExporter=new X),I.aptExporter.handleExportClick(m,"detalhesDeAgendamento",((u=c.current)==null?void 0:u.querySelector('[id*="outpNamePac"]'))??c.current??document,`spreadsheet_${t.cpf||"semCPF"}_${t.name||"anonimo"}_${t.date||"semData"}`),new AbortController().signal},children:e.jsx("small",{role:"textbox",children:e.jsx("em",{children:"Gerar Planilha"})})})})]})})}):e.jsx(e.Fragment,{})}function Se({data:r,btnId:t}){const[o,n]=x.useState(!0);return o?e.jsx("div",{role:"group",className:"providerAptDiv",children:o&&e.jsx(Te,{setDisplayAptList:n,data:r,btnId:t,shouldDisplayAptList:o})}):e.jsx(e.Fragment,{})}function gt(r,t,o=!0){if(r instanceof HTMLSelectElement||r instanceof HTMLInputElement&&(r.type==="number"||r.type==="text")){const n=(l=!1)=>{if(r.childElementCount<document.querySelector("table").querySelectorAll("col").length-1||l){const s=document.createElement("input");s.type="date",Object.assign(s,r),Object.assign(s.style,r.style),s.placeholder="Erro obtendo lista de dias",setTimeout(()=>{s.placeholder="Insira: aaaa-mm-dd"},1e3),s.classList.add(...r.classList),s.classList.toggle("form-control"),s.classList.toggle("form-select"),document.getElementById("changeDayDiv").replaceChild(s,r),console.error("Error creating options list for First day of work. Replacing for input. Enter day manually.")}};if(Array.isArray(t)&&t.length>0){const l=`${new Date().getFullYear().toString()}-${(new Date().getMonth()+1).toString().padStart(2,"0")}-${new Date().getDate().toString().padStart(2,"0")}`,s=t.map(c=>c instanceof HTMLInputElement&&(c.type==="date"||c.type==="text")?c.value||l:(A(c,`dayRef id ${(c==null?void 0:c.id)||"UNDEFINED"} in correlateAptMonthDays()`,h(new Error)),l));Array.from(document.getElementsByClassName("lastConsDayCont")).some(c=>c.style.display==="none"||c.hidden===!0)&&s.pop(),s.length!==t.length&&console.warn(`Error producing length of list for day references in correlateAptMonthDays().
      Number of days passed: ${(s==null?void 0:s.length)??0}
      Number of days expected: ${t.length??0}`),s.some(c=>c==="")&&console.warn(`Error producing value for day reference in correlateAptMonthDays().
      Value defaulted to current day.`);let i=0;o&&(r.innerHTML="");let a=!1;s.forEach((c,f)=>{i++;const d=(()=>{const m=document.createElement("option");return m.id=`${(r==null?void 0:r.id)||"day"}Op${i}-${m.value}`,navigator.language==="en-US"?(m.value=c,m.textContent=`${c.slice(-5,-3)}/${c.slice(-2,c.length)}/${c.slice(0,4)}`):m.textContent=`${c.slice(-2,c.length)}/${c.slice(-5,-3)}/${c.slice(0,4)}`,m})(),p=r.querySelectorAll("option");if(f===0||f===1||p.length===0)r.appendChild(d);else{const m=Array.from(r.children).map(g=>g==null?void 0:g.value),u=new Set(m);m.length!==u.size&&(a=!0),r.appendChild(d)}}),n(a);return}else C(t,`dayRefs com ${arguments.callee.name}`,h(new Error));n()}else A(r,`argument for ${arguments.callee.name}`,h(new Error))}function xt(r,t,o=new Date().getMonth()){const n=[];return n.fill(1,0,t.length*r.length),r.forEach((l,s)=>{const i=new Date(new Date().getFullYear(),o,1);let a=0,c=0;for(;i.getMonth()===o&&a!==1e3;){if(i.getDay()===l%7){if(c===1e3)break;c++,c===1?n[s]=i.getDate():n[s+(c-1)+(r.length-1)+(c-r.length)]=i.getDate()}i.setDate(i.getDate()+1),a++}}),n.sort((l,s)=>l-s),n}function Et(r,t){r=r-1;const o=new Date(new Date().getFullYear(),r,1),n=[],l=new Map([[0,"Domingo"],[1,"Segunda-feira"],[2,"Terça-feira"],[3,"Quarta-feira"],[4,"Quinta-feira"],[5,"Sexta-feira"],[6,"Sábado"]]);let s=0;for(;o.getMonth()===r&&(t.includes(o.getDay())&&n.push(o.getDay()),o.setDate(o.getDate()+1),s++,s!==1e3););return[n.map(a=>l.get(a)??"Quarta-feira"),n]}function yt(r=["Quarta-feira","Sexta-feira","Quarta-feira","Sexta-feira","Quarta-feira","Sexta-feira","Quarta-feira","Sexta-feira","Quarta-feira"],t){if(Array.isArray(r)&&r.length>0&&r.every(o=>typeof o=="string")&&typeof t=="number"&&t>0&&!Number.isNaN(t)){const o=document.querySelectorAll(".consWeekday");if(o.length===t&&(o.length===r.length||o.length===r.length+1)){const n=new Map([[0,"Primeira"],[1,"Segunda"],[2,"Terceira"],[3,"Quarta"],[4,"Quinta"]]),l=r.reduce((d,p)=>(d.includes(p)||d.push(p),d),[]),s=Array.from(n.entries()),i=[],a=new Map;let c=0;for(let d=0;d<s.length;d++)for(let p=0;p<l.length;p++)i.push([c,s[d][1]]),a.set(c,s[d][0]+1),c++;const f=new Map([["Domingo",0],["Segunda-feira",1],["Terça-feira",2],["Quarta-feira",3],["Quinta-feira",4],["Sexta-feira",5],["Sábado",6]]);o.forEach((d,p)=>{d.textContent=`${i[p][1]??`${p}orderbrk`} ${r[p]??`${p}daybrk`}`,d.id=`${a.get(p)??`${p}orderbrk`}_${f.get(r[p]??`${p}daybrk`)}_plus_1fLab`,d instanceof HTMLLabelElement&&(d.htmlFor=`_${a.get(p)??`${p}orderbrk`}_${f.get(r[p]??`${p}daybrk`)}_plus_1fInp`);const m=d.parentElement.querySelector(".dayTabRef");m instanceof HTMLElement&&(m.id=`_${a.get(p)??`${p}orderbrk`}_${f.get(r[p]??`${p}daybrk`)}_plus_1fInp`)});for(const d of o)d.style.color="rgba(0, 0, 0, 1)",d.textContent&&(/brk/gi.test(d.textContent)||/undefined/gi.test(d.textContent)||/null/gi.test(d.textContent)||/NaN/g.test(d.textContent)||/infinity/gi.test(d.textContent))?(d.style.color="transparent",console.warn("Error correlating textContent of labels. Process reverted.")):(getComputedStyle(d).color==="rgba(0, 0, 0, 0)"||getComputedStyle(d).color==="rgb(0, 0, 0)"||d.style.color==="transparent")&&(d.style.color="rgba(0, 0, 0, 1)"),d.textContent&&(/sábado/gi.test(d.textContent)||/domingo/gi.test(d.textContent)?d.textContent=d.textContent.replace("Primeira","Primeiro"):d.textContent=d.textContent.replace("Primeiro","Primeira"))}else C(o,`Labels for appointments working days when comparing to the number of columns ${t} and working days ${r.length} references`,h(new Error))}else C(r,`arguments for ${arguments.callee.name}`,h(new Error))}function ge(r){if(Array.isArray(r)&&r.length>0&&r.every(t=>typeof t=="number")){const t=document.getElementById("firstWorkingDay"),o=document.getElementById("secondWorkingDay");if((t instanceof HTMLSelectElement||t instanceof HTMLInputElement)&&(o instanceof HTMLSelectElement||o instanceof HTMLInputElement)){const n=Array.from(t.querySelectorAll("option")).find(s=>s.value===t.value),l=Array.from(o.querySelectorAll("option")).find(s=>s.value===o.value);if(n instanceof HTMLOptionElement&&l instanceof HTMLOptionElement){r=[O(n.dataset.weekday||"3"),O(l.dataset.weekday||"5")];const s=t.querySelector(`option[data-weekday="${r[1]}"]`),i=o.querySelector(`option[data-weekday="${r[0]}"]`);return s instanceof HTMLElement?(t.querySelectorAll("option").forEach(a=>a.hidden=!1),s.hidden=!0,t.querySelectorAll('option[hidden="true"]').length>2&&(console.error("Error: more than one option was hidden. Reverting process."),t.querySelectorAll("option").forEach(a=>a.hidden=!1))):E(s,"Repeated option in the second working day",h(new Error)),i instanceof HTMLElement?(o.querySelectorAll("option").forEach(a=>a.hidden=!1),i.hidden=!0,o.querySelectorAll('option[hidden="true"]').length>2&&(console.error("Error: more than one option was hidden. Reverting process."),o.querySelectorAll("option").forEach(a=>a.hidden=!1))):E(i,"Repeated option in the first working day",h(new Error)),r}else J(h(new Error),"selected options for reflecting select values for working weekdays",n,l)}else J(h(new Error),"Entry elements for defining working weekdays",t,o)}else C(r,`argument for ${arguments.callee.name}`,h(new Error));return r}function Ut(r){var o,n,l,s,i;const t={};return r instanceof Element?([...Array.from(r==null?void 0:r.querySelectorAll("input")).filter(a=>a.role!=="switch"),...(r==null?void 0:r.querySelectorAll("select"))??[],...r.querySelectorAll("textarea")].forEach(a=>{var c,f;a instanceof HTMLInputElement&&a.type==="checkbox"?t[`${a.name.replaceAll("-in","").toLowerCase().replace("pac","")||((c=a.dataset.title)==null?void 0:c.slice(0,a.dataset.title.indexOf(" ")).replaceAll("-in","").toLowerCase().replace("pac",""))}`]=a.checked.toString():t[`${a.name.replaceAll("-in","").toLowerCase().replace("pac","")||((f=a.dataset.title)==null?void 0:f.slice(0,a.dataset.title.indexOf(" ")).replaceAll("-in","").toLowerCase().replace("pac",""))}`]=a.value}),t.tel=`+${(o=t.código)==null?void 0:o.trim()} ${(n=t.ddd)==null?void 0:n.trim()} ${(l=t.tel)==null?void 0:l.trim()}`,t.name=`${(s=t.name)==null?void 0:s.trim()} ${(i=t.sobrenome)==null?void 0:i.trim()}`,t.time=`
    ${t.name||"Anônimo"}-${new Date().getFullYear()}-${new Date().getMonth()+1}-${new Date().getDate()}_${new Date().getHours()}:${new Date().getMinutes()}`.replaceAll(":","_").replaceAll(" ","_").replaceAll("-","_").replaceAll(/[_]{2,}/g,"_").replaceAll(/\n/g,"")):E(r,"Element for fetching data from new appointment register fields",h(new Error)),t}const v={renderCounts:0,aptBtnsRoots:{},aptBtnsIdx:{},addedAptListeners:!1,addedDayListeners:!1};function ke(r,t,o,n=100){try{if(typeof o!="string")throw oe("validation of userClass in handleRenderRefLos",o,"string",h(new Error));if(!(t instanceof HTMLElement))throw E(t,`Previous reference for ${r}`,h(new Error));if(typeof n!="number")throw oe("validation of timer argument in handleRenderRefLost",n,"number",h(new Error));setTimeout(()=>{var l,s,i;if(!document.querySelector("dialog")){(l=v.aptBtnsRoots[r])==null||l.unmount(),v.aptBtnsRoots[r]=void 0;const a=document.createElement("div");a.id=r,a.role="group",(s=document.getElementById("bgDiv"))==null||s.insertAdjacentElement("afterend",a),v.aptBtnsRoots[r]=P(a),(i=v.aptBtnsRoots[r])==null||i.render(e.jsx(Se,{data:re[v.aptBtnsIdx[`${t.id}`]]||Array.from(re.values()).find(c=>c.time===t.id.replace("appointmentBtn-","")),btnId:t.id}))}},n)}catch(l){console.error(`Error executing handleRenderRefLost:
${l.message}`)}}function Ne(r,t){try{if(console.log("Click listened"),!(r.currentTarget instanceof HTMLElement&&r.currentTarget.id!==""))throw new Error(`Error locating Target New Appointment Button: Instance found -> ${r.currentTarget instanceof HTMLElement&&r.currentTarget.constructor.name||r.currentTarget||"undefined"}
 Id Found -> ${r.currentTarget instanceof HTMLElement&&r.currentTarget.id||r.currentTarget||"undefined"}`);if(!_.rootDlg){const o=document.getElementById("rootDlgList");if(!o)throw new Error("Failed to fetch Main Dialog Root");_.rootDlg=P(o)}if(!v.aptBtnsRoots.rootDlgList){v.aptBtnsRoots.rootDlgList=_.rootDlg;const o=document.getElementById("rootDlgList");if(!o)throw new Error("Failed to fetch Main Dialog Root");o.classList.add("rootDlg")}if(console.log(v.aptBtnsIdx[r.currentTarget.id]),v.aptBtnsIdx[r.currentTarget.id]===1)console.log("Attempting to render in rootDlgList"),console.log(v.aptBtnsRoots.rootDlgList),v.aptBtnsRoots.rootDlgList.render(e.jsx(Se,{data:re[v.aptBtnsIdx[`${r.currentTarget.id}`]]||Array.from(re.values()).find(o=>o.time===r.currentTarget.id.replace("appointmentBtn-","")),btnId:r.currentTarget.id})),ke("rootDlgList",r.currentTarget,t);else{if(!document.getElementById(`rootDlgList-${v.aptBtnsRoots[`${r.currentTarget.id}`]??"null"}-${r.currentTarget.id}`)){const o=document.createElement("div");o.classList.add("rootDlg"),o.id=`rootDlgList-${v.aptBtnsRoots[`${r.currentTarget.id}`]??"null"}-${r.currentTarget.id}`,o.role="group";const n=Array.from(document.querySelectorAll(".rootDlg")).at(-1);if(!n)throw new Error("Error locating Last Dialog Root Element");n.insertAdjacentElement("beforebegin",o),v.aptBtnsRoots[`${r.currentTarget.id}`]||(v.aptBtnsRoots[`${r.currentTarget.id}`]=P(o))}if(!v.aptBtnsRoots[`${r.currentTarget.id}`]){const o=document.getElementById(`rootDlgList-${v.aptBtnsRoots[`${r.currentTarget.id}`]??"null"}-${r.currentTarget.id}`);if(!(o instanceof HTMLElement))throw E(o,`Target Dialog Root for ${r.currentTarget.id||r.currentTarget.tagName}`,h(new Error));v.aptBtnsRoots[`${r.currentTarget.id}`]=P(o)}console.log(`Attempt to render in ${`rootDlgList-${v.aptBtnsRoots[`${r.currentTarget.id}`]??"null"}-${r.currentTarget.id}`}`),v.aptBtnsRoots[`${r.currentTarget.id}`].render(e.jsx(Se,{data:re[v.aptBtnsIdx[`${r.currentTarget.id}`]]||Array.from(re.values()).find(o=>o.time===r.currentTarget.id.replace("appointmentBtn-","")),btnId:r.currentTarget.id})),ke("rootDlgList",r.currentTarget,t)}}catch(o){console.error(`Error executing callback for ${r.currentTarget instanceof HTMLElement&&r.currentTarget.tagName||"unidentified Node"} type ${r.type}:
${o.message}`)}}function Wt(r,t,o,n){const l=document.getElementById("addAppointBtn");if((l==null?void 0:l.parentElement)instanceof HTMLElement){const s=document.createElement("button"),i=`appointmentBtn-${t.time}`;Object.assign(s,{type:"button",id:i,dataTitle:`Botão para o paciente ${t.name||"Anônimo"}`,formMethod:"get",fontSize:"0.5rem",title:"Consulte a ficha da consulta recém-cadastrada, arraste o botão para a agenda, ou agende através do botão de agendamento",draggable:!0,contentEditable:!0}),Object.assign(s.style,{display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"center",justifyContent:"center",verticalAlign:"text-top",textAlign:"center"}),r.cons.match(/\s/g)?s.innerHTML=`
    <span role="textbox">
      <strong>${r.cons.slice(0,1).toUpperCase()||"C"}${r.cons.slice(1,r.cons.indexOf(" ")+1)||"onsulta"} </strong>
    </span>
      <em> : ${r.name||"noName"}</em>
    `:s.innerHTML=`
    <span role="textbox">
      <strong>${r.cons.slice(0,1).toUpperCase()||"C"}${r.cons.slice(1)||"onsulta"} </strong>
    </span>
      <em> : ${ot(r.name)||"noName"}</em>
    `,s.classList.add("btn","btn-info","appointmentBtn","forceInvert");const a=document.getElementById("transfArea"),c=document.getElementById("replaceSlot");if(a instanceof HTMLElement&&c instanceof HTMLElement)if(a.replaceChild(s,c),document.getElementById(s.id)?v.aptBtnsIdx[`${s.id}`]=document.querySelectorAll(".appointmentBtn").length:console.warn("Error locating New Appointment Button in the DOM. Reference index not updated."),o&&typeof o=="object"){const f=document.getElementById("regstDayBtn");f instanceof HTMLButtonElement?f.disabled=!1:E(f,"Button for registering appointment in createAptBtn()",h(new Error)),s.addEventListener("click",d=>Ne(d,n))}else E(`${JSON.stringify(o)}`,"Dialog root for placing tabled list about registered appointment",h(new Error));else a&&a.querySelector(".appointmentBtn")?console.warn("Appointment Button already placed."):J(h(new Error),"Elements for placing appointment in transfer area in createAptBtn()",a,c);return s}else E(l,`apppointBtn in ${arguments.callee.name}`,h(new Error))}let pe=!1,te,Oe=0,_e=0,xe=0,Ee=0;function zt(r,t="estudante"){if(r instanceof HTMLButtonElement){const o=Array.from(document.getElementsByClassName("consSlot")).filter(l=>l instanceof HTMLSlotElement),n=o.map(l=>{const s=l.getBoundingClientRect();return Object.assign({},{upperLeftVert:[s.x,s.y],upperRightVert:[s.x+s.width,s.y],lowerLeftVert:[s.x,s.y+s.height],lowerRightVert:[s.x+s.width,s.y+s.height]})});r.addEventListener("dragend",l=>{try{for(let s=0;s<n.length;s++){let i=!1;l.clientX>=n[s].upperLeftVert[0]&&l.clientX<=n[s].upperRightVert[0]&&l.clientY>=n[s].upperLeftVert[1]&&l.clientY<=n[s].lowerLeftVert[1]?i=!0:i=!1;const[a]=document.elementsFromPoint(l.clientX,l.clientY).filter(c=>c.classList.contains("consSlot"));if(a instanceof HTMLElement?i=!0:i=!1,i){if(!(r instanceof HTMLButtonElement)&&(r.tagName==="STRONG"||r.tagName==="EM"||r.tagName==="SPAN")&&r.closest("button")&&(r=r.closest("button")),!(r instanceof HTMLButtonElement))throw E(r,"New Appointment Button in touchstart callback",h(new Error));ve(a,r,o,t);try{const c=document.getElementById("monthSelector");if(!(c instanceof HTMLSelectElement||c instanceof HTMLInputElement))throw A(c,"monthSelector for updating session schedule state after dragend",h(new Error));const f=document.getElementById("tbSchedule");if(!(f instanceof HTMLElement))throw E(f,"tbody for updating session schedule state after dragend",h(new Error));N[c.value]=f.innerHTML}catch(c){console.error(`Error updation session schedule state after dragend:
              ${c.message}`)}break}else console.warn("No slot match found for dragend.")}}catch(s){console.error(`Error executing dragEnd callback:${s.message}`)}}),r.addEventListener("touchstart",l=>{if(pe=!0,te=Array.from(l.touches).find(a=>a.target instanceof HTMLElement&&a.target.classList.contains("appointmentBtn")),!(r instanceof HTMLButtonElement)&&(r.tagName==="STRONG"||r.tagName==="EM"||r.tagName==="SPAN")&&r.closest("button")&&(r=r.closest("button")),!(r instanceof HTMLButtonElement))throw E(r,"New Appointment Button in touchstart callback",h(new Error));if(te instanceof Touch||(te=l.touches[0]),te){const a=te;Oe=a.clientX-xe,_e=a.clientY-Ee,r.style.position="absolute",r.style.zIndex="50"}const s=a=>{if(!pe)return;a.preventDefault();const c=a.targetTouches[0];xe=c.clientX-Oe,Ee=c.clientY-_e,r.style.transform=`translate(${xe}px, ${Ee}px)`},i=a=>{if(console.log(a),pe){try{const c=te;if(!(c instanceof Touch))throw new Error("Failed to fetch touch target");for(let f=0;f<n.length;f++){let d=!1;c.clientX>=n[f].upperLeftVert[0]&&c.clientX<=n[f].upperRightVert[0]&&c.clientY>=n[f].upperLeftVert[1]&&c.clientY<=n[f].lowerLeftVert[1]?d=!0:d=!1;const[p]=document.elementsFromPoint(c.clientX,c.clientY).filter(m=>m.classList.contains("consSlot"));if(p instanceof HTMLElement?d=!0:d=!1,!(r instanceof HTMLButtonElement)&&(r.tagName==="STRONG"||r.tagName==="EM"||r.tagName==="SPAN")&&r.closest("button")&&(r=r.closest("button")),d){r.style.position="static",r.style.zIndex="10",ve(p,r,o,t),r.style.transform="translate(0, 0)";try{const m=document.getElementById("monthSelector");if(!(m instanceof HTMLSelectElement||m instanceof HTMLInputElement))throw A(m,"monthSelector for updating session schedule state after dragend",h(new Error));const u=document.getElementById("tbSchedule");if(!(u instanceof HTMLElement))throw E(u,"tbody for updating session schedule state after dragend",h(new Error));N[m.value]=u.innerHTML}catch(m){console.error(`Error updation session schedule state after dragend:
                ${m.message}`)}break}else console.warn("No slot match found for dragend.")}}catch(c){console.error(`Error executing handleToucEnd:
${c.message}`)}pe=!1}document.removeEventListener("touchmove",s),document.removeEventListener("touchend",i)};document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",i,{once:!0})})}else E(r,`arguments for ${arguments.callee.name}`,h(new Error))}function ve(r,t,o,n="estudante"){var l,s,i;try{if(!(r instanceof HTMLElement))throw E(r,"Matched Slot",h(new Error));if(!(t instanceof HTMLButtonElement)&&(t.tagName==="STRONG"||t.tagName==="EM"||t.tagName==="SPAN")&&t.closest("button")&&(t=t.closest("button")),!(t instanceof HTMLButtonElement))throw E(t,"New Appointment Button",h(new Error));if(o=o.filter(a=>a instanceof Element),o.length===0)throw new Error("Failed to populate slots list");if(typeof n!="string")throw oe("User class in replaceRegstSlot",n,"string",h(new Error));if(r instanceof HTMLElement){t.style.width="100%",r.replaceChild(t,r.querySelector(".slotableDay")??r.children[0]??r.parentElement.children[0]),setTimeout(()=>{try{const d=document.getElementById("monthSelector"),p=document.getElementById("tbSchedule");if(!(d instanceof HTMLSelectElement||d instanceof HTMLInputElement))throw E(d,"Validation of Month Selector instance",h(new Error));if(!r.querySelector("button"))throw new Error("Failed to validate button nested in matched slot");if(!(p instanceof HTMLElement))throw E(p,"Failed to validate Table Body for Schedule",h(new Error));$t(d.value)}catch(d){console.error(`Error executing procedure for updating state of month:
${d.message}`)}},200);const a=document.getElementById("transfArea");a instanceof HTMLElement?(!a.hasChildNodes()||a.innerHTML===""||a.childElementCount===1||!a.querySelector("slot"))&&(a.querySelector("btn-close")?a.insertBefore(Object.assign(document.createElement("slot"),{id:"replaceSlot",textContent:"Área de transferência",className:"opaqueEl",color:"#0981714d"}),a.querySelector("button")):a.appendChild(Object.assign(document.createElement("slot"),{id:"replaceSlot",textContent:"Área de transferência",className:"opaqueEl"}))):E(a,"Element for appointment transference slot in handleDragAptBtn()",h(new Error));const c=document.getElementById("regstDayBtn");c instanceof HTMLButtonElement?c.disabled=!0:E(c,"Button for registering appointment in dragend",h(new Error)),c instanceof HTMLInputElement&&(c.type==="checkbox"||c.type==="radio")?c.checked=!1:c instanceof HTMLButtonElement||E(c,"Button for registering appointment in handleDragAptBtn()",h(new Error)),o[0].closest("table").querySelectorAll("tr").forEach((d,p)=>{d.dataset.row=`${p}`,[...d.querySelectorAll("td"),...d.querySelectorAll("th")].forEach((u,g)=>{u.dataset.row=`${p}`,u.dataset.column=`${g}`})}),r.dataset.row=(l=r.closest("td")||r.closest("th"))==null?void 0:l.dataset.row,r.dataset.column=(s=r.closest("td")||r.closest("th"))==null?void 0:s.dataset.column;const f=o.filter(d=>!d.isEqualNode(r));for(let d=0;d<f.length;d++){const p=r.closest("tr"),m=[...p.querySelectorAll("th"),...p.querySelectorAll("td")].filter(g=>g instanceof HTMLElement),u=Array.from(p.querySelectorAll(".consSlot")).findIndex(g=>g.isSameNode(f[d]));if(!f[d].hasChildNodes()||!f[d].querySelector(".slotableDay")&&!f[d].querySelector('[id*="appointmentBtn"]')){f[d].innerHTML=`
            <input
              class="transparent-el slotableDay opaque-bluish wid100 form-control"
              placeholder="Horário Livre"
              id = ${m[0].innerText}_${((i=f[d].closest("td")||f[d].closest("th"))==null?void 0:i.dataset.column)||u}
            />
            <div role="group" class="flexNoWC flexAlItCt">
              <input
                type="checkbox"
                class="form-check-input apptCheck redMg checkGreen"
              />
              <button
                type="button"
                class="btn btn-close reduced-btn-close eraseAptBtn"
              ></button>
            </div>
            `,bt(f[d].querySelector(".eraseAptBtn"),n);try{if(n==="coordenador"||n==="supervisor"){const g=f[d].querySelector(".apptCheck");if(!(g instanceof HTMLInputElement||g instanceof HTMLButtonElement))throw E(g,"New Appointment Button",h(new Error));g instanceof HTMLInputElement&&g.addEventListener("change",()=>Ce(g)),setInterval(j=>{var y;if(!(g instanceof HTMLButtonElement||g instanceof HTMLInputElement)||!(n==="coordenador"||n==="supervisor")){clearInterval(j);return}(y=g.closest(".consSlot"))!=null&&y.querySelector(".appointmentBtn")?g.disabled=!1:g.disabled=!0},200)}}catch(g){console.error(`Error adding interval to new aptBtn:
${g.message}`)}}}}else E(r,"Undefined Slot por dragend",h(new Error))}catch(a){console.error(`Error executing replaceRegstSlot:
${a.message}`)}}function Gt(r,t=document,o,n="estudante"){var l,s,i;if(r instanceof HTMLButtonElement){const a=t.querySelector("#changeDaySel")||t.querySelector("[id$=ChangeDaySel]")||((l=t.querySelector("#formDayBodySchedSect"))==null?void 0:l.querySelector("select"))||t.querySelector("select"),c=t.querySelector("#hourDayInp")||t.querySelector("[id$=HourDayInp]")||((s=t.querySelector("#formDayBodySchedSect"))==null?void 0:s.querySelector('input[type="time"]'))||t.querySelector('input[type="time"]'),f=t.querySelector("#confirmDayInp")||t.querySelector("#confirmPac")||((i=t.querySelector("#formDayBodySchedSect"))==null?void 0:i.querySelector('input[type="checkbox"]'))||t.querySelector('input[type="checkbox"]'),d=document.querySelectorAll(".dayTabRef")||document.querySelector("table").querySelectorAll(".dayTabRef");d.length<document.querySelector("table").querySelectorAll("col").length-1&&console.warn("Error capturing number of date inputs for placing new appointment button");const p=Array.from(d).filter(m=>m instanceof HTMLElement&&!(m.hidden===!0||m.style.display==="none"));if((a instanceof HTMLSelectElement||a instanceof HTMLInputElement)&&c instanceof HTMLInputElement&&f instanceof HTMLInputElement&&(f.type==="checkbox"||f.type==="radio")&&p.length>7){const m=Array.from(document.querySelectorAll(".slotableDay"));let u,g=0;for(const S of m){if(++g,S.id===`_${c.value.replace(":","-")}_${g}`){u=S;break}(g!==0&&g%9===0||S.closest("td").classList.contains("lastConsDayCont"))&&(g=0)}const j=u==null?void 0:u.parentElement,y=document.querySelector('[id*="appointmentBtn"]');if(u instanceof HTMLElement&&j instanceof HTMLElement&&y instanceof HTMLButtonElement)return j.replaceChild(y,u),y.style.minWidth="89%",ve(j,y,Array.from(t.querySelectorAll(".consSlot")),n),!0;if(J(h(new Error),"Elements for matching new appointment button",u,j,y),typeof o[0]=="object"&&"_internalRoot"in o[0])return!1}else J(h(new Error),"Entry Elements for registering new appointment by click",a,c,f,...p)}else E(r,"Button for registering appointment in handleRegstBtn()",h(new Error))}function bt(r,t="estudante"){(t==="coordenador"||t==="supervisor")&&(r.addEventListener("click",()=>{const o=r.closest("slot");o instanceof HTMLElement?et(o.querySelector("[id*=appointmentBtn]"),o,r):E(o,`Table cell related to button for erasing day/hour appointment id ${r.id}`,h(new Error))}),setInterval(o=>{var n;if(!(r instanceof HTMLButtonElement||r instanceof HTMLInputElement)||!(t==="coordenador"||t==="supervisor")){clearInterval(o);return}(n=r.closest(".consSlot"))!=null&&n.querySelector(".appointmentBtn")?r.disabled=!1:r.disabled=!0},200))}function et(r,t,o){if(r instanceof HTMLElement){const n=r.closest("tr");let[l]=Array.from(n.querySelectorAll(".consSlot")).reduce((c,f,d)=>{const p=c.map(([m])=>m);return f instanceof HTMLSlotElement&&p.some(m=>f===m)?c.push([f,d]):c.push([f,-1]),c},[]).map(([,c])=>c).filter(c=>Number.isFinite(c)&&c>0),[s]=Array.from(n.querySelectorAll(".consSlot")).map((c,f)=>c.isEqualNode(r.parentElement)?f+1:-1);const i=[...n.querySelectorAll("th"),...n.querySelectorAll("td")].filter(c=>c instanceof HTMLElement),a=document.createElement("input");a.classList.add("slotableDay","opaque-bluish","wid100","form-control","transparent-el"),a.placeholder="Horário Livre",a.id=`${i[0].innerText}_${l||s}`,t.replaceChild(a,r)}else console.warn(`No related appointment details button for erasing button id ${o.id}`)}function Ce(r){var o;const t=(o=r.closest("td")||r.closest("th"))==null?void 0:o.querySelector("[id*=appointmentBtn]");t instanceof HTMLElement?r.checked?(t.classList.remove("btn-info"),t.classList.add("btn-success")):(t.classList.remove("btn-success"),t.classList.add("btn-info")):console.warn(`No related button for day checkbox id ${r.id}`)}function jt(r,t,o,n=!0){try{if(!(r instanceof HTMLSelectElement||r instanceof HTMLInputElement))throw A(r,"Month Selector for schedule state change",h(new Error));if(!(N instanceof Object&&Object.entries(N).length>1))throw nt("Validating object for Session Schedule Map",N,"sessionScheduleMap",12,h(new Error));if(!N.hasOwnProperty(r.value))throw U("validating value of Month Selector for Session Map",r.value,h(new Error));if(!(t instanceof HTMLElement||t instanceof Object&&"_internalRoot"in t))throw E(t,"Root for schedule tab",h(new Error));if(!(typeof o=="string"&&["coordenador","supervisor","estudante"].some(s=>new RegExp(s).test(o))))throw U("Validating userClass for handling month change",o,h(new Error));if(typeof n!="boolean")throw new Error("Error validating type of isAutoFillMonthOn when handling month state change");if(typeof r.value!="string")throw U("Obtaining value for month state change",r.value,h(new Error));const l=N[r.value];if(!l)throw new Error(`Error validating key for Session Schedule Map:
      Month Selector: ${(r==null?void 0:r.id)??"UNDEFINED"}
      Available Options in the HTML: ${Array.from(r.querySelectorAll("option")).map(s=>s.value)}
      Used value: ${r.value};
      Map values: ${Object.values(N)}
      Available keys in the map: ${Object.keys(N)}`);typeof l=="string"&&(t.innerHTML=l),l instanceof Object&&"props"in l&&P(t).render(l),Tt(t??document,o,n),St(t),vt(r);try{const s=N[`${r.value}Values`];if(!Array.isArray(s))throw C(s.toString(),"Array for states of .values in Schedule Table",h(new Error));const i=[...document.getElementsByTagName("input"),...document.getElementsByTagName("select"),...document.getElementsByTagName("textarea")];if(i.length<1)throw C(i,"Entries for getting Session Schedules data",h(new Error));for(let a=0;a<i.length;a++){const c=s.find(f=>f[0]===i[a].id);Array.isArray(c)&&(i[a]instanceof HTMLInputElement&&(i[a].type==="checkbox"||i[a].type==="radio")?c[1]==="true"?i[a].checked=!0:i[a].checked=!1:i[a].value=c[1])}}catch(s){console.error(`Error filling entry Elements on handleScheduleChange():
      ${s.message}`)}}catch(l){console.error(`Error on the execution of handleScheduleChange():
    ${l.message}`)}}function tt(r){try{if(r instanceof HTMLInputElement&&(r.type==="checkbox"||r.type==="radio")&&r.checked)try{const t=r.closest("slot");if(!(t instanceof HTMLElement))throw E(t,`Slot related to Day Check id ${r.id||r.tagName}`,h(new Error));const o=t.querySelector(".appointmentBtn")??t.querySelector('button[id^="appointmentBtn"]');if(!(o instanceof HTMLButtonElement))throw E(o,`Appointment Button related to ${r.id||r.tagName}`,h(new Error));o.classList.contains("btn-info")&&o.classList.remove("btn-info"),o.classList.add("btn-success")}catch(t){console.error(`Error executing procedure for painting Appointment Button:
${t.message}`)}}catch(t){console.error(`Error executing verifyAptCheck:
${t.message}`)}}function Tt(r=document,t,o){try{if(!(r instanceof HTMLElement||r instanceof Document))throw E(r,"Root for Schedule Table when adding listeners after month state change",h(new Error));if(!(typeof t=="string"&&["coordenador","supervisor","estudante"].some(s=>new RegExp(s).test(t))))throw U("Validating userClass for adding listeners when handling month change",t,h(new Error));if(typeof o!="boolean")throw new Error("Error validating type of isAutofillMonthOn when applying listeners after month state change");console.log("Trying to add listeners to Appointment buttons...");const n=setInterval(s=>{try{const i=Array.from(document.querySelectorAll(".appointmentBtn")).filter(a=>a instanceof HTMLButtonElement);if(!(i.length>0&&Array.from(i).every(a=>a instanceof HTMLButtonElement))){console.warn("Failed to fetch appointment buttons. Retrying in 0.2 seconds...");return}if(!v.addedAptListeners){for(const a of i)a.addEventListener("click",c=>Ne(c,t));B(t,["supervisor","coordenador"],...document.getElementsByClassName("apptCheck"),...document.getElementsByClassName("eraseAptBtn")),B(t,["coordenador"],...document.getElementsByClassName("dayTabRef"))}v.addedAptListeners=!0,clearInterval(s)}catch(i){console.warn(`Error trying to reapply listeners to appointment buttons:
        ${i.message}`)}},200);setTimeout(()=>{clearInterval(n),console.log("Cleared Appointment Interval");try{const s=Array.from(document.querySelectorAll(".appointmentBtn")).filter(i=>i instanceof HTMLButtonElement);if(!(s.length>0&&Array.from(s).every(i=>i instanceof HTMLButtonElement)))throw C(s,"Appointment Buttons",h(new Error))}catch(s){console.error(`Error executing procedure for adding listeners to Appointment Buttons:${s.message}`)}},2e3);const l=setInterval(s=>{try{const i=r.querySelectorAll('input[class*="apptCheck"]');if(i.length<0){console.warn("Failed to fetch day checks list. Retrying in 0.2 seconds...");return}v.addedDayListeners||(i.forEach(a=>{tt(a),(t==="coordenador"||t==="supervisor")&&a.addEventListener("change",()=>{a instanceof HTMLInputElement&&(a.type==="checkbox"||a.type==="radio")?Ce(a):A(a,`dayCheck id ${(a==null?void 0:a.id)||"UNIDENTIFIED"}`,h(new Error))})}),B(t,["supervisor","coordenador"],...document.getElementsByClassName("apptCheck"),...document.getElementsByClassName("eraseAptBtn")),B(t,["coordenador"],...document.getElementsByClassName("dayTabRef"))),v.addedDayListeners=!0,clearInterval(s)}catch(i){console.error(`Error executing interval for applying listeners to Day Checks:
${i.message}`)}},200);setTimeout(()=>{try{const s=r.querySelectorAll('input[class*="apptCheck"]');if(s.length<0)throw C(s,"Checkboxes for day checks",h(new Error))}catch(s){console.error(`Error executing procedure for readding listeners to Day Checks:
${s.message}`)}clearInterval(l)},5e3)}catch(n){console.error(`Error executing addListenersForSchedTab():
    ${n.message}`)}}function St(r=document){try{if(!(r instanceof HTMLElement||r instanceof Document))throw E(r,"Scope for Table Schedule Root when applying styles",h(new Error));Le(Array.from(r.querySelectorAll('input[type="date"]')))}catch(t){console.error(`Error executing applyStylesForSchedTab:
    ${t.message}`)}}function vt(r){try{if(!(r instanceof HTMLSelectElement||r instanceof HTMLInputElement))throw A(r,"Fetch for Month Selector when applying listeners to Schedule Table Section updates",h(new Error));const t=document.getElementById("tbSchedule");if(!(t instanceof HTMLElement))throw E(t,"Fetch for Schedule Table Section",h(new Error));const o=[...t.getElementsByTagName("input"),...t.getElementsByTagName("select"),...t.getElementsByTagName("textarea")];if(!(o.length>0))throw C(o,"List for Entry Elements in the Schedule Table Section",h(new Error));const n=Array.from(t.getElementsByTagName("slot"));if(!(n.length>0))throw C(n,"Fetch for Slots in the Schedule Table Section",h(new Error));if(!N.hasOwnProperty(r.value))throw new Error("Error comparing value of Month Selector and properties of Session Schedule States object when applying listeners to Schedule Table Section updates");const l=document.getElementById("tbSchedule");if(!(l instanceof HTMLElement))throw E(l,"Fetch for Schedule Table Body",h(new Error));const s=i=>{setTimeout(()=>{var a;try{const c=N[`${r.value}Values`];if(!Array.isArray(c))throw oe("checking type of property in sessionScheduleState index",c.toString(),"Array",h(new Error));const f=c.find(d=>d[0]===i.id);if(!Array.isArray(f))throw oe("checking type of property in relMonthArrEntries index",f,"Array",h(new Error));i instanceof HTMLInputElement&&(i.type==="checkbox"||i.type==="radio")?f[1]=i.checked.toString():f[1]=i.value}catch(c){console.warn(`Error matching input with available data in sessionScheduleState:
          Obtained relatedArray: ${N[`${r.value}Values`]}
          Obtained entryArray: ${(a=N[`${r.value}Values`])==null?void 0:a.find(f=>f[0]===i.id)}
          Obtained element: ${i??"nullish"}
          ${c.message}`)}},300)};setTimeout(()=>{N[r.value]=l.innerHTML;for(let i=0;i<o.length;i++)o[i]instanceof HTMLSelectElement&&o[i].addEventListener("change",(function(a){a.stopPropagation(),N[r.value]=l.innerHTML,s(this)}).bind(o[i])),(o[i]instanceof HTMLInputElement||o instanceof HTMLTextAreaElement)&&o[i].addEventListener("input",(function(a){a.stopPropagation(),N[r.value]=l.innerHTML,s(this)}).bind(o[i]));for(let i=0;i<n.length;i++)n[i]instanceof HTMLSlotElement&&n[i].addEventListener("drop",()=>{N[r.value]=l.innerHTML})},500)}catch(t){console.error(`Error adding listeners to updates in Schedule Table Section:
    ${t.message}`)}}function $t(r){try{if(typeof r!="string")throw U("validating month string in fillSchedStateValues",r,h(new Error));const t=document.getElementById("tbSchedule");if(!(t instanceof HTMLElement))throw E(t,`Table Body for Schedule when initializating state for month ${r}`,h(new Error));N[r]=t.innerHTML;const o=[...t.querySelectorAll("input"),...t.querySelectorAll("select"),...t.querySelectorAll("textarea")].filter(n=>n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement).map(n=>n instanceof HTMLInputElement&&(n.type==="checkbox"||n.type==="radio")?[n.id||n.name,n.checked.toString()]:[n.id||n.name,n.value]);if(o.length<1)throw C(o.flat(1),`Populating array of entries data for month ${r}`,h(new Error));N[`${r}Values`]=o}catch(t){console.warn(`Error initializating state for month ${r}:
    ${t.message}`)}}const ye={};var R;const qe=class qe{constructor(t){De(this,R);me(this,R,t),addEventListener("beforeunload",()=>{me(this,R,{}),["formSched","formAddStud","formAddProf","regstPacDlg","CPFFillerDiv"].forEach(o=>{sessionStorage.getItem(o)&&sessionStorage.setItem(o,"")})})}initPersist(t,o,n="student"){setTimeout(()=>{sessionStorage[t.id]?o.parseSessionStorage(t,t.id,n):setTimeout(()=>sessionStorage[t.id]&&o.parseSessionStorage(t,t.id,n),300)},100);const l=setTimeout(()=>{if(!(document.getElementById(`${t.id}`)||!t)){console.log("Initial DOM fetch rejected. Clearing timeout"),clearTimeout(l);return}ye[`${t.id}`]=!0;const s=setInterval(i=>{!ye[`${t.id}`]||!this.checkForm(t.id,i)?setTimeout(()=>clearInterval(i),200):this.checkForPersist(t)},1e3);this.checkForPersist(t);try{const i=document.getElementById("coordPanelSelect");if(!(i instanceof HTMLSelectElement))throw A(i,"Panel selector when fetching for session storage cicles",h(new Error));let a=!0;const c=f=>{try{if(!(document.getElementById(f)instanceof HTMLElement)){console.warn("Could not find scopped element for handling panel change"),clearInterval(s);return}const p=sessionStorage.getItem(f);if(!p)throw U(`Persisting elements for ${f}`,p,h(new Error));this.initStorageParsing(document.getElementById(f),f)}catch(d){console.error(`Error handling Panel Change:
                ${d.message};`)}this.checkForm(f)?a=!0:a=!1,!a&&(i.removeEventListener("change",()=>c(f)),console.warn("event listener removido para handleSessionPanelChange"))};i.addEventListener("change",()=>c(t.id))}catch(i){console.error(`Error on initiation of Panel Change Listening:
            ${i.message}`)}},500)}initStorageParsing(t=document,o){const n=sessionStorage.getItem(o);n&&(console.log("Init storage parsing..."),Object.entries(JSON.parse(n)).forEach(l=>{const s=t.querySelector(`#${l[0]}`)||document.querySelector(`#${l[0]}`);if(s instanceof HTMLInputElement&&!(s.type==="radio"||s.type==="checkbox"||s.type==="button"||s.type==="reset"||s.type==="submit")||s instanceof HTMLTextAreaElement||s instanceof HTMLSelectElement)s.value=l[1];else if(s instanceof HTMLInputElement&&(s.type==="radio"||s.type==="checkbox"))l[1]==="true"||l[1]===!0?s.checked=!0:s.checked=!1;else if(s instanceof HTMLElement&&(s.innerHTML=l[1],s.classList.contains("consSlot"))){const i=s.querySelector(".appointmentBtn");i&&i.addEventListener("click",c=>Ne(c,a.userClass));const a=localStorage.getItem("activeUser")?JSON.parse(localStorage.getItem("activeUser")):Xe;if(a.userClass==="coordenador"||a.userClass==="supervisor"){const c=s.querySelector(".btn-close");c&&c.addEventListener("click",()=>{const d=c.closest("slot");d instanceof HTMLElement&&c instanceof HTMLElement?et(d.querySelector("[id*=appointmentBtn]"),d,c):E(d,`Table cell related to button for erasing day/hour appointment id ${c.id}`,h(new Error))});const f=s.querySelector(".apptCheck");f&&(f.addEventListener("change",()=>{f instanceof HTMLInputElement&&(f.type==="checkbox"||f.type==="radio")?Ce(f):A(f,`dayCheck id ${(f==null?void 0:f.id)||"UNIDENTIFIED"}`,h(new Error))}),tt(f))}}}))}parseSessionStorage(t=document,o,n="student"){const l=sessionStorage.getItem(o)||JSON.stringify(fe(this,R));l&&(console.log("Parsing session storage..."),Object.entries(JSON.parse(l)).forEach(s=>{const i=t.querySelector(`#${s[0]}`)||document.querySelector(`#${s[0]}`);if(i instanceof HTMLInputElement&&!(i.type==="radio"||i.type==="checkbox"||i.type==="button"||i.type==="reset"||i.type==="submit")||i instanceof HTMLTextAreaElement||i instanceof HTMLSelectElement)i.value=s[1];else if(i instanceof HTMLInputElement&&(i.type==="radio"||i.type==="checkbox"))s[1]==="true"||s[1]===!0?i.checked=!0:i.checked=!1;else if(i instanceof HTMLElement){i.innerHTML=s[1];const a=document.getElementById("monthSelector");(a instanceof HTMLSelectElement||a instanceof HTMLInputElement)&&n&&jt(a,document.getElementById("tbSchedule"),n,$.isAutoFillMonthOn)}}))}checkForPersist(t=document){return me(this,R,qe.persistSessionEntries(t)),t instanceof HTMLElement?sessionStorage.setItem(`${t.id}`,JSON.stringify(fe(this,R))):console.log("Failed to fetch scope when checking for persistence..."),fe(this,R)}static persistSessionEntries(t=document){const o=[...t.querySelectorAll(".ssPersist"),...t.querySelectorAll(".lcPersist")],n={};for(const l of o)l instanceof HTMLInputElement&&!(l.type==="radio"||l.type==="checkbox"||l.type==="button"||l.type==="reset"||l.type==="submit")||l instanceof HTMLTextAreaElement||l instanceof HTMLSelectElement?n[`${l.id||l.name}`]=l.value:l instanceof HTMLInputElement&&(l.type==="radio"||l.type==="checkbox")?n[`${l.id||l.name}`]=l.checked.toString():l instanceof HTMLElement&&(n[`${l.id||l instanceof HTMLSlotElement&&l.name}`]=l.innerHTML);return n}checkForm(t,o){return document.getElementById(t)?!0:(console.warn("Failed to fetch form for persistence"),o&&clearInterval(o),ye[`${t}`]=!1,!1)}};R=new WeakMap;let $e=qe;function At(){return e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Erro carregando componente de construção"}),children:e.jsx("h1",{style:{margin:"0",alignSelf:"center",justifySelf:"center"},children:e.jsx("strong",{children:"PÁGINA EM CONSTRUÇÃO"})})})}function Re(){const r=x.useRef(null);return x.useEffect(()=>{try{if(!(r.current instanceof HTMLElement))throw E(r.current,"Main Reference for ErrorMainDiv",h(new Error));w([r.current,...r.current.querySelectorAll("*")])}catch(t){console.error(`Error executing useEffect for ErrorMainDiv:
${t.message}`)}},[r]),e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Erro carregando mensagem de erro!"}),children:e.jsxs("article",{role:"alert",id:"errorMainDiv",ref:r,children:[e.jsx("h2",{className:"mg-2bv widHalf",children:e.jsxs("strong",{children:["Oops, algo deu errado! 🤷‍♀️❗❓"," ",e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 64 64",children:[e.jsx("ellipse",{cx:"32",cy:"61",opacity:".3",rx:"20",ry:"3"}),e.jsx("path",{fill:"#ffce29",d:"M54,20v24c0,2.25-0.74,4.32-2,5.99V50c-1.69,2.24-4.29,3.75-7.25,3.97C44.51,53.99,44.25,54,44,54 H20c-5.52,0-10-4.48-10-10V20c0-0.25,0.01-0.51,0.03-0.75c0.22-2.96,1.73-5.56,3.97-7.25h0.01c1.67-1.26,3.74-2,5.99-2h24 C49.52,10,54,14.48,54,20z"}),e.jsx("path",{fill:"#fff",d:"M14.01,12H14c-2.24,1.69-3.75,4.29-3.97,7.25C10.01,19.49,10,19.75,10,20v12 c2.761,0,5-2.239,5-5v-7c0-0.108,0.003-0.221,0.017-0.38c0.102-1.375,0.778-2.65,1.862-3.525c0.048-0.033,0.095-0.068,0.142-0.103 C17.881,15.343,18.911,15,20,15h6c2.761,0,5-2.239,5-5H20C17.75,10,15.68,10.74,14.01,12z",opacity:".3"}),e.jsx("path",{d:"M54,44V28c-2.761,0-5,2.238-5,5v11c0,2.757-2.243,5-5,5H33c-2.761,0-5,2.238-5,5h16 C49.523,54,54,49.523,54,44z",opacity:".15"}),e.jsx("path",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",strokeWidth:"3",d:"M13.5,23.5V20c0-0.153,0.005-0.312,0.018-0.459c0.135-1.809,1.003-3.46,2.396-4.594l0.204-0.152"}),e.jsxs("g",{children:[e.jsx("path",{fill:"#9c34c2",d:"M28.441,47.566c-0.453,0.013-0.807-0.106-1.061-0.36c-0.253-0.253-0.38-0.58-0.38-0.981 c0-0.306,0.09-0.574,0.271-0.802c0.179-0.227,0.443-0.352,0.791-0.38l0.58-0.041c1.069-0.065,1.602-0.628,1.602-1.682v-8.632 c0-0.507,0.134-0.898,0.401-1.172c0.267-0.274,0.647-0.411,1.143-0.411c1.04,0,1.561,0.528,1.561,1.583v8.593 c0,2.657-1.402,4.072-4.207,4.246L28.441,47.566z"}),e.jsx("path",{fill:"#9c34c2",d:"M41.219,47.626c-0.854,0-1.71-0.093-2.564-0.28c-0.854-0.186-1.596-0.46-2.223-0.821 c-0.373-0.2-0.608-0.469-0.701-0.81c-0.093-0.341-0.073-0.672,0.06-0.993c0.134-0.319,0.347-0.546,0.641-0.68 c0.293-0.134,0.647-0.101,1.061,0.099c0.535,0.308,1.13,0.535,1.783,0.681c0.654,0.147,1.302,0.22,1.943,0.22 c0.962,0,1.653-0.15,2.073-0.45c0.421-0.302,0.631-0.678,0.631-1.133c0-0.386-0.147-0.694-0.44-0.921 c-0.295-0.227-0.808-0.421-1.544-0.58l-2.262-0.481c-2.523-0.535-3.786-1.843-3.786-3.926c0-0.893,0.241-1.679,0.722-2.354 c0.481-0.673,1.151-1.198,2.013-1.571c0.861-0.373,1.858-0.561,2.994-0.561c0.747,0,1.482,0.09,2.202,0.271 c0.722,0.179,1.356,0.443,1.904,0.791c0.333,0.2,0.541,0.461,0.621,0.781c0.08,0.321,0.057,0.628-0.07,0.923 c-0.127,0.293-0.341,0.5-0.641,0.619c-0.302,0.121-0.672,0.075-1.112-0.14c-0.442-0.227-0.91-0.393-1.403-0.5 c-0.494-0.106-1.001-0.16-1.522-0.16c-0.841,0-1.491,0.163-1.953,0.491c-0.46,0.328-0.691,0.751-0.691,1.271 c0,0.388,0.14,0.701,0.422,0.942c0.28,0.24,0.768,0.434,1.462,0.58l2.262,0.481c2.59,0.561,3.886,1.83,3.886,3.806 c0,0.88-0.238,1.653-0.711,2.313c-0.474,0.662-1.143,1.175-2.003,1.542C43.413,47.442,42.395,47.626,41.219,47.626z"})]})]}),"📜🦟"]})}),e.jsx("h4",{children:"Não foi possível executar scripts!"}),e.jsx("br",{}),e.jsx("small",{children:"Recarregue a página!"}),e.jsx("br",{})]})})}function Me(r){const t=[...r.querySelectorAll("output"),...r.querySelectorAll("input"),...r.querySelectorAll("select"),...r.querySelectorAll("textarea")];t.length>0?at(t):C(t,"inAndOutEls in useEffect() for sectTabRef",h(new Error))}function Qt(r,t,o=!0,n=!0){if(Array.isArray(r)&&r.length>0&&r.every(l=>l instanceof HTMLElement))if(t instanceof HTMLSelectElement||t instanceof HTMLInputElement&&t.type==="number"){const l=new Map([["jan","01"],["feb","02"],["mar","03"],["apr","04"],["may","05"],["jun","06"],["jul","07"],["aug","08"],["sep","09"],["oct","10"],["nov","11"],["dec","12"]]),s=new Map([["0","jan"],["1","feb"],["2","mar"],["3","apr"],["4","may"],["5","jun"],["6","jul"],["7","aug"],["8","sep"],["9","oct"],["10","nov"],["11","dec"]]),i=document.getElementById("firstWorkingDay"),a=document.getElementById("secondWorkingDay");let c=[O((i==null?void 0:i.dataset.weekday)??"3")??3,O((a==null?void 0:a.dataset.weekday)??"5")??5],f=l.get(t.value.slice(0,3)),d=`${f.padStart(2,"0")}`;const p=`${new Date().getFullYear()}`,m=(u,g=`${(new Date().getMonth()+1).toString().padStart(2,"0")}`)=>{var j;if(l.get(t.value.slice(0,3))){for(let T=0;r.length>T;T++)r[T]instanceof HTMLInputElement&&r[T].type==="date"?(r[T].value=`${p}-${g}-01`,r[T].pattern=`/^${p}-${g}-[0-9]{2}$/`,r[T].style.color="initial",lt(r[T],"skyblue")):A(r[T],`date input id ${((j=r[T])==null?void 0:j.id)||"UNIDENTIFIED"}`,h(new Error));const y=xt(u,[1,2,3,4],O((O(l.get(t.value)||"01")-1).toString()||new Date().getMonth().toString()));if(y.length>=r.length-1){const T=Array.from(document.getElementsByClassName("lastConsDayCont"));T.forEach(L=>{L instanceof HTMLElement?y.length===r.length-1&&L instanceof HTMLElement?(L.hidden=!0,L.style.display="none"):L?(L.hidden=!1,L.style.display="table-cell"):E(L,`column for last day appointments, length of monthdates ${(y==null?void 0:y.length)||0}`,h(new Error)):E(L,`Element in the fifth column id ${(L==null?void 0:L.id)||"UNDEFINED"}`,h(new Error))});const F=document.getElementById("mainConsDaysCont");if(F instanceof HTMLElement){const L=document.querySelectorAll('th[scope="col"]');let ee=y.length;L.length===r.length?ee=L.length:console.warn("Error comparing length of containers for appointment days and number of inputs for them");for(let M=0;M<ee;M++)if(typeof y[M]=="number"&&r[M]instanceof HTMLInputElement)r[M].value=`${r[M].value.slice(0,8)}${y[M].toString().padStart(2,"0")}`;else{A(r[M],"dateInps in the conversion from monthdates",h(new Error));break}if(y.length===r.length-1&&T.every(M=>M instanceof HTMLElement)){const M=document.getElementById("changeDaySel");M instanceof HTMLSelectElement?Pt(M):A(M,"Selector for day inclusion in setListeneresForDates()",h(new Error))}}else E(F,"Main container for columns for appointment days",h(new Error))}else console.error("Error checking similarity of length between available month days relative to nth weekdays. Aborting Proccess.");gt(document.querySelector("#changeDaySel"),Array.from(document.querySelectorAll(".dayTabRef")),!0),st(r,new RegExp(`^${p}-${g}-[0-9]{2}$`));const[S]=Et(O(l.get(`${t.value}`)||new Date().getMonth().toString()),u);yt(S,r.length)}else console.error("Undefined match between de month <select> value and the map for available months. Aborting routine.")};return n===!0?(t.value=`${s.get(`${new Date().getMonth()}`)}`,c=ge(c),m(c),t.addEventListener("change",()=>{const u=document.getElementById("toggleAutofillMonth");u instanceof HTMLInputElement&&(u.type==="checkbox"||u.type==="radio")?o=u.checked:A(u,"Input for toggling month autofill on month selector change",h(new Error)),o&&(f=l.get(t.value.slice(0,3)),d=`${f.padStart(2,"0")}`,c=ge(c),m(c,d))})):(c=ge(c),m(c,d)),[new RegExp(`^${p}-[0-9]{2}-${d}$`),m]}else E(t,"monthStateSelector in setListenerForDates()",h(new Error));else C(r,"argument for setListenerForDates()",h(new Error));return[/[0-9]{4}-[0-9]{2}-[0-9]{2}/,()=>()=>null]}function Pt(r){Array.from(document.getElementsByClassName("lastConsDayCont")).some(t=>{t instanceof HTMLElement&&(t.hidden===!0||getComputedStyle(t).display)})&&(r.lastElementChild.hidden=!0,r.lastElementChild.style.display="none")}function Jt(r,t,o="estudante"){if(Array.isArray(r)&&r.length>0&&r.every(n=>n instanceof HTMLElement)&&t instanceof HTMLSelectElement){const n=(l,s)=>{const i=document.createElement("option");i.value=l.value,i.id=`op_${l.value}`;const a=document.getElementById(`${Array.from(t.querySelectorAll("option")).map(p=>[p.id,O(p.value.replaceAll("-",""))]).map(p=>[p[0],Math.abs(p[1]-O(i.value.replaceAll("-","")))]).filter(p=>Number.isFinite(p[1])&&p[1]>0).sort((p,m)=>p[1]-m[1])[0][0]}`);a?a.insertAdjacentElement("afterend",i):t.prepend(i);const[c,f,d]=l.value.split("-");return navigator.language==="en-US"?i.textContent=`${f}/${d}/${c}`:i.textContent=`${d}/${f}/${c}`,s=[],s=r.map(p=>p.value),s};r.forEach(l=>{if(l instanceof HTMLInputElement){let s=r.map(i=>i.value);(o==="coordenador"||o==="supervisor")&&l.addEventListener("change",()=>{Array.from(t.querySelectorAll("option")).map(i=>i.value).includes(l.value)?setTimeout(()=>{if(Array.from(t.querySelectorAll("option")).map(i=>i.value)!==s){s=n(l,s);for(const i of Array.from(t.querySelectorAll("option"))){if(s.map((a,c,f)=>f.some(d=>a===d)).filter(a=>a===!0).length>1){const a=s.map((f,d,p)=>{if(p.splice(d,1),p.includes(f))return p[p.findIndex(m=>m===f)]}).filter(f=>typeof f=="string"),c=document.querySelectorAll(`option[value*="${a}"]`);if(setTimeout(()=>{document.querySelectorAll(`input[value*="${a}"]`).forEach(f=>{f.style.color="red",f.style.borderColor="red",setTimeout(()=>{f.style.color="revert",f.style.borderColor="revert"},1e3)})},500),(c instanceof NodeList||Array.isArray(c))&&c.length>1){const f=Array.from(c).slice(-1);for(const d of f)t.removeChild(d)}s=r.map(f=>f.value)}s.some(a=>i.value===a)||t.removeChild(i)}}},500):s=n(l,s),setTimeout(()=>{const i=new Map([[0,"Domingo"],[1,"Segunda-feira"],[2,"Terça-feira"],[3,"Quarta-feira"],[4,"Quinta-feira"],[5,"Sexta-feira"],[6,"Sábado"]]),a=(l.closest("td")??l.closest("th")).querySelector(".consWeekday")||(l.closest("td")??l.closest("th")).querySelector("label");a instanceof HTMLElement&&(a.textContent=`${a.textContent.slice(0,a.textContent.indexOf(" ")+1)}${i.get(new Date(l.value+"T00:00:00").getDay())}`,/sábado/gi.test(a.textContent)||/domingo/gi.test(a.textContent)?a.textContent=a.textContent.replace("Primeira","Primeiro"):a.textContent=a.textContent.replace("Primeiro","Primeira"))},600)})}else A(l,`dateInp id ${(l==null?void 0:l.id)??"UNIDENTIFIED"}`,h(new Error))})}else J(h(new Error),"arguments for correlateDayOpts",...r,t)}function Ie({dispatch:r,tabRef:t,name:o="anonimo",state:n=!0}){var d;const l=x.useRef(null),s=x.useRef(null),i=x.useRef(null),[,a]=x.useState(((d=i.current)==null?void 0:d.value)||null),c=p=>{history.pushState({},"",`${location.origin}${location.pathname}${location.search}${be(p.value)}${location.hash}`),setTimeout(()=>{history.pushState({},"",`${location.href}`.replaceAll("/?","?").replaceAll("/#","#"))},300)},f=(p=!0)=>r(!p);return x.useEffect(()=>{if(l.current instanceof HTMLDialogElement){l.current.showModal(),w([...l.current.querySelectorAll("*"),l.current]),l.current.addEventListener("click",m=>{Q(m,l.current).filter(u=>u===!0).length>=1&&(l.current.close(),f(n))},!0);const p=m=>{m.key==="Escape"&&r(!n)};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)}else E(l.current,"Reference for Previous appointments list dialog",h(new Error))},[l,r,f]),x.useEffect(()=>(history.pushState({},"",`${location.origin}${location.pathname}${location.search}&alter-dlg=open#${btoa(String.fromCodePoint(...new TextEncoder().encode(o.toLowerCase().replaceAll(" ","-"))))}`),i.current instanceof HTMLSelectElement&&c(i.current),setTimeout(()=>{history.pushState({},"",`${location.href}`.replaceAll("/?","?").replaceAll("/#","#"))},300),()=>{i.current instanceof HTMLSelectElement?history.pushState({},"",`${location.origin}${location.pathname}${location.search}`.replaceAll("&alter-dlg=open","").replaceAll(`#${btoa(String.fromCodePoint(...new TextEncoder().encode(o.toLowerCase().replaceAll(" ","-"))))}`,"").replaceAll(`${be(i.current.value)}${location.hash}`,"")):history.pushState({},"",`${location.origin}${location.pathname}${location.search}`.replaceAll("&alter-dlg=open","").replaceAll(`#${o.toLowerCase().replaceAll(" ","-")}`,"").replaceAll(`${location.hash}`,"")),setTimeout(()=>{history.pushState({},"",`${location.href}`.replaceAll("/?","?").replaceAll("/#","#"))},300)}),[o]),x.useEffect(()=>{if(((i==null?void 0:i.current)instanceof HTMLSelectElement||i.current instanceof HTMLInputElement)&&/opt/gi.test(i.current.id)){const p=[];if(t.current instanceof HTMLTableElement){const m=Array.from(t.current.querySelector("thead").querySelectorAll("th")).flatMap(u=>u.textContent||"Nulo").filter(u=>u!=="");for(const u of m)!(/histórico/gi.test(u)||/alteração/gi.test(u)||/nulo/gi.test(u)||/null/gi.test(u)||/undefined/gi.test(u)||/exclusão/gi.test(u)||/alocação/gi.test(u))&&u.length>0&&p.push(u)}else E(t==null?void 0:t.current,"Ref for main table form in AlterFieldList",h(new Error));if(i.current.querySelectorAll("option").length<2&&p.forEach(m=>{var g;const u=document.createElement("option");Object.assign(u,{textContent:m,value:m.toLowerCase().trim().replaceAll(" ","-")}),(g=i.current)==null||g.appendChild(u)}),i.current.childElementCount<p.length||i.current.childElementCount===0){console.error("Error generating options for <select> reflecting headers. Abort process and replacing by <input>");const m=document.createElement("input");Object.assign(m,i.current),Object.assign(m.style,i.current),m.classList.add(...i.current.classList),m.classList.toggle("form-select"),m.classList.toggle("form-control"),i.current.parentElement.replaceChild(m,i.current)}}else A(i==null?void 0:i.current,"Reference for Field options in AlterFieldList component",h(new Error))},[i,t]),x.useEffect(()=>Z(s.current)),e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Erro carregando modal de alteração"}),children:e.jsx("dialog",{className:"modal-content-stk2",ref:l,id:"alterFieldDlg",onClick:p=>{var m;Q(p,p.currentTarget).some(u=>u===!0)&&(r(!n),(m=p.currentTarget.closest("dialog"))==null||m.close())},children:e.jsx(H,{FallbackComponent:()=>e.jsx(ue,{renderError:new Error("Erro carregando a janela modal!"),onClick:()=>f(n)}),children:e.jsxs("fieldset",{id:"fsAlterFieldStud",className:"flexNoWC flexJSt flexAlItSt noInvert",children:[e.jsxs("section",{className:"flexRNoWBetCt widFull",id:"headFieldsHead",children:[e.jsx("h2",{className:"mg-1b",children:e.jsx("strong",{children:"Campos Disponíveis"})}),e.jsx("button",{className:"btn btn-close forceInvert",onClick:()=>f(n)})]}),e.jsxs("section",{className:"flexNoWC widFull cGap5v rGap2v",children:[e.jsx("select",{id:"avFieldOptions",className:"form-select noMargin",ref:i,onChange:p=>{var u,g,j,y,S,T;c(p.currentTarget),a(p.currentTarget.value);const m=document.createElement("input");if(Object.assign(m,{type:"text",id:"newValueOpt",ariaHidden:"false",ariaRequired:"false",ariaInvalid:"false"}),m.classList.add("form-control","noMargin"),document.getElementById("newValueOpt")?document.getElementById("newValueOpt").type!=="text"?(g=document.getElementById("divValueOpt"))==null||g.replaceChild(m,document.getElementById("newValueOpt")):(m.removeEventListener("input",()=>ne(m)),m.removeEventListener("input",()=>ae(m))):(u=document.getElementById("divValueOpt"))==null||u.append(m),m instanceof HTMLInputElement)switch(p.currentTarget.value){case"cpf":m.addEventListener("input",()=>{ae(m)});break;case"nome":m.addEventListener("input",()=>{ne(m)});break;case"e-mail":const F=document.createElement("input");Object.assign(F,{type:"email",id:"newValueOpt",ariaHidden:"false",ariaRequired:"false",ariaInvalid:"false"}),F.classList.add("form-control","noMargin"),(j=document.getElementById("divValueOpt"))==null||j.replaceChild(F,document.getElementById("newValueOpt")),F.addEventListener("input",()=>{W(F)}),F.addEventListener("click",()=>{W(F)});break;case"telefone":const L=document.createElement("input");Object.assign(L,{type:"tel",id:"newValueOpt",ariaHidden:"false",ariaRequired:"false",ariaInvalid:"false"}),L.classList.add("form-control","noMargin"),(y=document.getElementById("divValueOpt"))==null||y.replaceChild(L,document.getElementById("newValueOpt")),m.addEventListener("input",()=>{ie(m)});break;case"assinatura":const ee=document.createElement("input");Object.assign(ee,{type:"file",accept:"image/*,.pdf",id:"newValueOpt",ariaHidden:"false",ariaRequired:"false",ariaInvalid:"false"}),ee.classList.add("form-control","noMargin"),(S=document.getElementById("divValueOpt"))==null||S.replaceChild(ee,document.getElementById("newValueOpt"));break;case"status":const M=document.createElement("select");Object.assign(M,{id:"newValueOpt",ariaHidden:"false",ariaRequired:"false",ariaInvalid:"false"}),M.classList.add("form-select","noMargin"),M.innerHTML=`
                            <option value="avaliacao">Em Avaliação Inicial</option>
                            <option value="tratamento">Em Tratamento Geral</option>
                            <option value="emergência">Em emergência</option>
                            <option value="altaOdontologia">Alta — Odontologia</option>
                            <option value="altaEducacaoFisica">
                              Alta — Educação Física
                            </option>
                            <option value="altaNutricao">Alta — Nutrição</option>
                            <option value="altaOdontologiaEducaoFisica">
                              Alta — Odontologia — Educação Física
                            </option>
                            <option value="altaOdontologiaNutricao">
                              Alta — Odontologia — Nutrição
                            </option>
                            <option value="altaEducaoFisicaNutricao">
                              Alta — Educação Física — Nutrição
                            </option>
                            <option value="altaOdontologiaEducacaoFisicaNutricao">
                              Alta Geral
                            </option>
                          `,(T=document.getElementById("divValueOpt"))==null||T.replaceChild(M,document.getElementById("newValueOpt"));break}}}),e.jsxs("form",{ref:s,className:"flexNoW flexAlItCt flexQ900NoWC cGap2v rGap2v widFull",id:"sectFieldsBody",name:"alter_field",children:[e.jsxs("div",{role:"group",className:"flexNoW flexQ460NoWC wid75 cGap2v flexAlItCt pdL03",id:"divValueOpt",children:[e.jsx("label",{htmlFor:"newValueOpt",className:"bolded wsNoW",children:"Insira o Novo valor:"}),e.jsx("input",{id:"newValueOpt",className:"form-control noMargin"})]}),e.jsx("div",{role:"group",className:"flexNoWC",children:e.jsx("button",{type:"submit",formMethod:"post",formAction:"#",id:"btnConfirmFieldOpt",className:"btn btn-success wsNoW",onClick:()=>f(n),style:{fontWeight:600},children:"Confirmar Alteração"})})]})]})]})})})})}function Lt({route:r,setDisplayExcludeDlg:t,shouldDisplayExcludeDlg:o=!0}){const n=x.useRef(null),l=x.useRef(null),s=()=>{t(!o),!o&&n.current instanceof HTMLDialogElement&&n.current.close()};return x.useEffect(()=>{const i=()=>{t(!o),!o&&n.current instanceof HTMLDialogElement&&n.current.close()};o&&n.current instanceof HTMLDialogElement&&n.current.showModal(),w([...n.current.querySelectorAll("*"),n.current]);const a=c=>{c.key==="Escape"&&i()};return addEventListener("keydown",a),()=>removeEventListener("keydown",a)},[n,t]),x.useEffect(()=>Z(l.current)),e.jsx(e.Fragment,{children:o&&e.jsx("dialog",{role:"alertdialog",id:"excludeAlertDlg",ref:n,className:"modal-content modal-content-fit",onClick:i=>{Q(i,n.current).some(a=>a===!0)&&(n.current.close(),s())},children:e.jsx(H,{FallbackComponent:()=>e.jsx(ue,{renderError:new Error("Erro carregando a janela modal!"),onClick:s}),children:e.jsxs("form",{role:"alert",name:`form_removal_${r}`,className:"flexNoWC flexJC rGap2v",onSubmit:()=>ct(r,!0),children:[e.jsxs("div",{role:"group",className:"flexJC flexAlItCt flexNoWC wsBs noInvert",children:[e.jsx("h3",{children:"Confirmar remoção?"}),e.jsx("small",{role:"textbox",children:"Esse processo é parcialmente ou totalmente irreversível!"})]}),e.jsx("button",{type:"submit",className:"btn btn-warning bolded",onClick:s,children:"Confirmar"})]})})})})}function He({context:r="Stud"}){const[t,o]=x.useState(!1),n=(s=!0)=>o(!s),l=x.useRef(null);return x.useEffect(()=>{l.current instanceof HTMLButtonElement?w([...l.current.querySelectorAll("*"),l.current]):E(l.current,"Button for Excluding Member",h(new Error))},[l]),e.jsxs(H,{FallbackComponent:()=>e.jsx(q,{message:"Error carregando botão de exclusão"}),children:[e.jsx("button",{type:"button",id:`btnExclude${r}`,className:"btn btn-danger opaqueEl btnAffectRegst btnExcRegst widFull",ref:l,onClick:()=>n(t),children:e.jsx("small",{role:"textbox",className:"bolded",children:"Excluir"})}),t&&e.jsx(Lt,{route:`${r==="Stud"?"studs":r==="Prof"?"profs":r==="Pac"?"patients":"studs"}`,setDisplayExcludeDlg:o,shouldDisplayExcludeDlg:t})]})}function wt({historic:r,nRow:t,name:o="Anônimo"}){const n=(()=>{switch(r.type){case"acompanhamento":return"Acompanhamento Geral";case"analise":return"Análise de Exames Bioquímicos";case"anamnese":return"Anamnese e Exame Clínico";case"avaliacao":return"Avaliação Antropométrica";case"diagnostico":return"Diagnóstico Nutricional";case"exodontia":return"Exodontia";case"profilaxia":return"Profilaxia e Orientação";case"raspagem":return"Raspagem";case"rcarie":return"Remoção de Cárie";case"recordatorio":return"Recordatório Alimentar";case"retorno":return"Retorno e Reavaliação";case"suplementacao":return"Suplementação e Plano Alimentar";default:return r.type==="Acompanhamento Geral"||r.type==="Análise de Exames Bioquímicos"||r.type==="Anamnese e Exame Clínico"||r.type==="Avaliação Antropométrica"||r.type==="Diagnóstico Nutricional"||r.type==="Exodontia"||r.type==="Profilaxia e Orientação"||r.type==="Raspagem"||r.type==="Remoção de Cárie"||r.type==="Recordatório Alimentar"||r.type==="Retorno e Reavaliação"||r.type==="Suplementação e Plano Alimentar"?r.type:"Indefinido"}})();return e.jsxs("tr",{id:`prevCons-row${t}`,"data-row":t,children:[e.jsx("td",{className:"celNamePrevCons","data-row":t,"data-col":1,children:e.jsx("output",{className:`outputPrevCons outputPrevConsPac${t-1} outputPrevConsPac${o}`,id:`outpNamePrevCons-${t}`,"data-title":`Nome de Paciente no Histórico ${t}`,"data-row":t,"data-col":1,children:o})}),e.jsx("td",{className:"celDatePrevCons","data-row":t,"data-col":2,children:e.jsx("output",{className:`outputPrevCons outputPrevConsPac${t-1} outputPrevConsPac${o}`,id:`outpDatePrevCons-${t}`,"data-title":`Data de Consulta no Histórico ${t}`,"data-row":t,"data-col":2,children:Y(r.day)})}),e.jsx("td",{className:"celTypePrevCons","data-row":t,"data-col":3,children:e.jsx("output",{className:`outputPrevCons outputPrevConsPac${t} outputPrevConsPac${o}`,id:`outpTypePrevCons-${t}`,"data-title":`Tipo de Consulta no Histórico ${t}`,"data-row":t,"data-col":3,children:n})}),e.jsx("td",{className:"celProfPrevCons","data-row":t,"data-col":4,children:e.jsx("output",{className:`outputPrevCons outputPrevConsPac${t-1} outputPrevConsPac${o}`,id:`outpProfPrevCons-${t}`,"data-title":`Estudante de Consulta no Histórico ${t}`,"data-row":t,"data-col":4,children:r.prof||"Anônimo"})}),e.jsx("td",{className:"celStudPrevCons","data-row":t,"data-col":5,children:e.jsx("output",{className:`outputPrevCons outputPrevConsPac${t-1} outputPrevConsPac${o}`,id:`outpStudPrevCons-${t}`,"data-title":`Estudante de Consulta no Histórico ${t}`,"data-row":t,"data-col":5,children:r.stud||"Anônimo"})}),e.jsx("td",{className:"celNotesPrevCons","data-row":t,"data-col":6,children:e.jsx("output",{className:`outputPrevCons outputPrevConsPac${t-1} outputPrevConsPac${o}`,id:`outpNotesPrevCons-${t}`,"data-title":`Notas de Consulta no Histórico ${t} (${n})`,"data-row":t,"data-col":6,children:r.notes||"Sem observações"})})]})}function Nt({dispatch:r,state:t=!0,name:o="Anônimo",historic:n=[{type:"avaliacao",day:"0000-00-00",prof:"Anônimo",stud:"Anônimo",notes:""}]}){const l=x.useRef(null),s=x.useRef(null);x.useEffect(()=>(history.pushState({},"",`${location.origin}${location.pathname}${location.search}&prev-cons=open#${btoa(String.fromCodePoint(...new TextEncoder().encode(o.toLowerCase().replaceAll(" ","-"))))}`),setTimeout(()=>{history.pushState({},"",`${location.href}`.replaceAll("/?","?").replaceAll("/#","#"))},300),()=>{history.pushState({},"",`${location.origin}${location.pathname}${location.search}`.replaceAll("&prev-cons=open","").replaceAll(`#${btoa(String.fromCodePoint(...new TextEncoder().encode(o.toLowerCase().replaceAll(" ","-"))))}`,"")),setTimeout(()=>{history.pushState({},"",`${location.href}`.replaceAll("/?","?").replaceAll("/#","#"))},300)}),[o]),x.useEffect(()=>{l.current instanceof HTMLDialogElement?(l.current.showModal(),w([...l.current.querySelectorAll("*"),l.current])):E(l.current,"Reference for Previous appointments list dialog",h(new Error))},[l]);const i=(a=!0)=>r(!a);return e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Erro carregando modal"}),children:e.jsx("dialog",{className:"modal-content-stk2",ref:l,id:`prev-cons-${o.toLowerCase().replaceAll(" ","-")}`,onClick:a=>{Q(a,a.currentTarget).some(c=>c===!0)&&(a.currentTarget.close(),r(!t))},children:e.jsxs(H,{FallbackComponent:()=>e.jsx(ue,{renderError:new Error("Erro carregando a janela modal!"),onClick:()=>i(t)}),children:[e.jsxs("section",{className:"flexRNoWBetCt widFull",id:"headPrevConsList",children:[e.jsx("h2",{className:"mg-1b",children:e.jsx("strong",{children:"Consultas Anteriores"})}),e.jsx("button",{className:"btn btn-close forceInvert",onClick:()=>i(t)})]}),e.jsx("section",{className:"form-padded",id:"sectPacsTab",children:e.jsxs("table",{className:"table table-striped table-responsive table-hover tabPacs",id:"avPacsTab",ref:s,children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",children:e.jsxs("em",{className:"noInvert",children:["Lista Recuperada da Ficha de Pacientes registrados. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[e.jsx("col",{"data-col":1}),e.jsx("col",{"data-col":2}),e.jsx("col",{"data-col":3}),e.jsx("col",{"data-col":4}),e.jsx("col",{"data-col":5}),e.jsx("col",{"data-col":6})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-row1","data-row":1,children:[e.jsx("th",{scope:"col","data-row":1,"data-col":1,children:"Nome"}),e.jsx("th",{scope:"col","data-row":1,"data-col":2,children:"Data"}),e.jsx("th",{scope:"col","data-row":1,"data-col":3,children:"Tipo da Consulta"}),e.jsx("th",{scope:"col","data-row":1,"data-col":4,children:"Profissional Responsável"}),e.jsx("th",{scope:"col","data-row":1,"data-col":5,children:"Estudante Alocado"}),e.jsx("th",{scope:"col","data-row":1,"data-col":6,children:"Anotações"})]})}),e.jsx("tbody",{children:n.map((a,c)=>e.jsx(wt,{name:o,nRow:c+2,historic:a},`i-hist__${c+2}`))})]})})]})})})}function Ve({tabRef:r,pac:t={name:"Anônimo",email:"Não fornecido",tel:"Não fornecido",next_appointed_day:"Não definido",treatment_beg:"Não definido",treatment_end:"Não definido",current_status:"Não definido",idf:"Não fornecido",signature:new File([],"error"),historic:[{type:"Indefinido",day:"0000-00-00",prof:"Anônimo",stud:"Anônimo",notes:""}]},nRow:o=-1,shouldShowAlocBtn:n=!1}){const l=x.useContext(D).userClass,s=x.useRef(null),i=x.useRef(null),[a,c]=x.useState(!1),[f,d]=x.useState(!1),p=(u=!0)=>d(!u),m=(u=!1)=>{s.current instanceof HTMLButtonElement?c(!u):E(s.current,"<button> for toggling Pacient previous appointments in Pacient Table",h(new Error))};return e.jsxs("tr",{id:`avPacs-row${o}`,"data-row":o,"data-key":`${t.name.toLowerCase().replaceAll(" ","_")}__${t.tel.replaceAll(/[^0-9]/g,"_")}`,children:[l==="coordenador"&&e.jsx("th",{scope:"row",className:"tagPhUnfilledTextPac","data-row":o,"data-col":1,children:e.jsx("output",{className:`tagPhAvPac tagPhAvPac${o} outpIdf`,id:`tagPhUnfilledTextPac-row${o}`,"data-title":`UnfilledText Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"cpf-pac","data-row":o,"data-col":1,children:t.idf||"Não identificado"})}),e.jsx("td",{className:`cel${o}Pac`,"data-row":o,"data-col":l==="coordenador"?2:1,children:e.jsx("output",{className:`tagPhAvPac tagPhAvPac${o} outpName`,id:`outpUnfilledTextPac-row${o}`,"data-title":`UnfilledText Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"UnfilledText-pac","data-row":o,"data-col":l==="coordenador"?2:1,children:t.name||"Anônimo"})}),e.jsx("td",{className:`cel${o}Pac`,"data-row":o,"data-col":l==="coordenador"?3:2,children:e.jsx("output",{className:`tagPhAvPac tagPhAvPac${o} outpfEmail`,id:`outpUnfilledTextPac-row${o}`,"data-title":`UnfilledText Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"email-pac","data-row":o,"data-col":l==="coordenador"?3:2,children:e.jsx("address",{"data-row":o,"data-col":l==="coordenador"?3:2,children:e.jsx("a",{href:`mailto:${t.email}`,target:"_blank",rel:"nofollow",id:`emaila-Pac-row${o}`,"data-row":o,"data-col":l==="coordenador"?3:2,children:t.email||"Não fornecido"})})})}),e.jsx("td",{className:"celTelPac","data-row":o,"data-col":l==="coordenador"?4:3,children:e.jsx("output",{className:`tagPhAvPac tagPhAvPac${o} outpTel`,id:`tagP4TelPac${o}`,"data-title":`Telefone Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"UnfilledText-pac","data-row":o,"data-col":l==="coordenador"?4:3,children:t.tel||"Não fornecido"})}),e.jsx("td",{className:"celUnfilledTextPac","data-row":o,"data-col":l==="coordenador"?5:4,children:e.jsx("output",{className:`tagPhAvPac tagPhAvPac${o} outpNextDay`,id:`tagP4UnfilledTextPac${o}`,"data-title":`Próximo dia de atendimento de Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"UnfilledText-pac","data-row":o,"data-col":l==="coordenador"?5:4,children:t.next_appointed_day||"Indefinido"})}),e.jsx("td",{className:"celIntervPac","data-row":o,"data-col":l==="coordenador"?6:5,children:e.jsx("div",{role:"group",className:"flexAlItCt cGap1v noInvert","data-row":o,"data-col":l==="coordenador"?6:5,children:e.jsx("output",{className:`tagPhAvPac tagPhAvPac${o} outpInterv`,id:`tagP4IntervPac${o}`,"data-title":`Intervalo de Atendimento Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"UnfilledText-pac","data-row":o,"data-col":l==="coordenador"?6:5,children:`${Y(t.treatment_beg)||"Não definido"} — ${Y(t.treatment_end)||"Não definido"}`})})}),l==="coordenador"&&e.jsx("td",{className:"celSignPac","data-row":o,"data-col":l==="coordenador"?7:6,children:e.jsx("div",{role:"group",className:"flexAlItCt flexJC cGap1v noInvert","data-row":o,"data-col":l==="coordenador"?7:6,children:e.jsx("output",{className:`tagPhAvPac tagPhAvPac${o} outpSign`,id:`tagP4AstPac${o}`,"data-title":`Assinatura de Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"UnfilledText-pac","data-row":o,"data-col":l==="coordenador"?7:6,children:e.jsx("a",{className:"astAnchor",id:`tagPhAstPac${o}`,href:"../img/teste-exame-clinico.pdf",download:!0,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-filetype-pdf",viewBox:"0 0 16 16",children:e.jsx("path",{fillRule:"evenodd",d:"M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"})})})})})}),e.jsx("td",{"data-row":o,"data-col":l==="coordenador"?8:7,children:e.jsx("div",{role:"group",className:"flexAlItCt cGap1v noInvert","data-row":o,"data-col":l==="coordenador"?8:7,children:e.jsx("output",{className:`outpPacStatus tagPhAvPac tagPhAvPac${o} outpStatus`,id:`tagP4Status${o}`,"data-title":`Status de Paciente Linha ${o} (${t.name||"Anônimo"})`,"data-aloc":"status-pac","data-row":o,"data-col":l==="coordenador"?8:7,children:t.current_status||"Indefinido"})})}),e.jsxs("td",{className:"previousRegstPac","data-row":o,"data-col":l==="coordenador"?9:8,children:[e.jsx("button",{type:"button",id:`btnPacPrevCons-row${o}`,className:"btn btn-info flexJC flexAlItCt wsNoW opaquelightEl outpHist","data-row":o,"data-col":l==="coordenador"?9:8,ref:s,onClick:()=>typeof a=="boolean"&&m(a),children:e.jsx("small",{role:"textbox",className:"bolded",children:"Atendimentos Anteriores"})}),a&&e.jsx(Nt,{dispatch:c,state:a,historic:t.historic,name:t.name})]}),l==="coordenador"&&e.jsxs("td",{className:"celAlterProf","data-row":o,"data-col":10,children:[e.jsx("button",{type:"button",id:"btnAlterRegstStud",className:"btn btn-info btnAffectRegst btnAlterRegst opaquelightEl widFull","data-row":o,"data-col":10,onClick:()=>p(f),children:e.jsx("span",{role:"textbox",className:"bolded fontLightWt",children:"Alterar"})}),f&&e.jsx(Ie,{dispatch:d,tabRef:r,state:f,name:t.name})]}),l==="coordenador"&&e.jsx("td",{"data-row":o,"data-col":11,children:e.jsx(He,{context:"Pac"})}),n&&e.jsx("td",{className:"alocCel","data-row":o,"data-col":l==="coordenador"?12:9,children:e.jsx("div",{role:"group",className:"widFull flexAlItCt flexJC",children:e.jsx("button",{type:"button",className:"btnAloc btnAlocPac btn btn-success widFull flexJC flexAlItCt wsNoW opaquelightEl",id:`btnAlocPac${o}`,ref:i,children:e.jsx("span",{role:"textbox",children:"Alocar"})})})})]})}function Ct(r){Array.isArray(r)&&r.length>0&&r.every(t=>t instanceof Element)?r.forEach(t=>{var o,n;if(t instanceof Element&&t.closest("tr")){const l=((n=(o=t.closest("tr"))==null?void 0:o.querySelector("[id*=outpInterv]"))==null?void 0:n.textContent)??"",s=l.slice(l.lastIndexOf(" ")).trim().toLowerCase(),i=new Date;(parseFloat(s.slice(-4))<i.getFullYear()&&!s.match(/[A-Za-z]/gi)||parseFloat(s.slice(-4))===i.getFullYear()&&parseFloat(s.slice(-7,-4))<i.getMonth()||parseFloat(s.slice(-4))===i.getFullYear()&&parseFloat(s.slice(-7,-4))===i.getMonth()&&parseFloat(s.slice(-10,-7))<i.getDate())&&it([t])}}):C(r,"arrEls in checkIntervDate()",h(new Error))}function Mt(r){const t=Array.from(r.querySelectorAll("[id*='btnAloc']")).filter(o=>o instanceof HTMLButtonElement);t.length>0?Ct(t):C(t,"btnsAloc in useEffect() for sectTabRef",h(new Error))}function It(r,t,o,n="stud"){var l;if(r instanceof HTMLButtonElement){const s=t.querySelector(`[id$=row${r.id.slice(-1)??"1"}]`)??t.querySelector(`[id$=row-${r.id.slice(-1)??"1"}]`)??r.closest("tr")??((l=r.parentElement)==null?void 0:l.parentElement);if(s instanceof HTMLTableRowElement){const i=Array.from(s.querySelectorAll("output")).map(u=>{let g=[(u.dataset.aloc||u.dataset.title||u.id).replaceAll(/\sd[aeiouAEIOU]\s/gi,"").trim().replaceAll(/[:\(\)\-_/\s']/gi,"").toLowerCase().trim().replaceAll(/row[0-9]+/g,"").replaceAll(/primeiro/g,"").replaceAll(/first/gi,"").replaceAll(/nome/g,"name").replace(new RegExp(n),""),u.innerText];if(/tel/gi.test(g[0])&&/\s/g.test(g[1])){const j=["nac","ddd","tel"],y=g[1].split(" "),S=[];if(y.length===2){const T=g[1].split(" ").map((F,L)=>[j[L+1],F]);S.push(T)}else if(y.length===3){const T=g[1].split(" ").map((F,L)=>[j[L],F]);S.push(T)}g=S.flat(1)}if(n==="pac"&&/name/gi.test(g[0])&&/\s/g.test(g[1])){const j=["first","family"],y=[g[1].slice(0,g[1].indexOf(" ")),g[1].slice(g[1].indexOf(" "),g[1].length)],S=[];for(let T=0;T<=j.length;T++)S.push([j[T],y[T]]);g=S}return g}),a=i.map(u=>u.filter(g=>Array.isArray(g))).filter(u=>u.length>0),c=[...i,...a.flat(1)].filter(u=>Array.isArray(u)).filter(u=>!/,/g.test(u[0])).map(u=>(/\+/g.test(u[1])&&u[1].replace("+",""),/status/gi.test(u[0])&&typeof u[1]=="string"&&(/emerg[eê]ncia/gi.test(u[1])?u[1]="emergência":/avalia[çc][aã]o/gi.test(u[1])?u[1]="avaliacao":/tratamento/gi.test(u[1])?u[1]="tratamento":/alta/gi.test(u[1])&&(/odont/gi.test(u[1])&&/educa[cç][aã]o/gi.test(u[1])&&/nutri[cç][aã]o/gi.test(u[1])?u[1]="altaOdontologiaEducacaoFisicaNutricao":/odont/gi.test(u[1])&&/educa[cç][aã]o/gi.test(u[1])?u[1]="altaOdontologiaEducaoFisica":/educa[cç][aã]o/gi.test(u[1])&&/nutri[cç][aã]o/gi.test(u[1])?u[1]="altaEducaoFisicaNutricao":/odont/gi.test(u[1])&&/nutri[cç][aã]o/gi.test(u[1])?u[1]="altaOdontologiaNutricao":/odont/gi.test(u[1])?u[1]="altaOdontologia":/educa[cç][aã]o/gi.test(u[1])?u[1]="altaEducacaoFisica":/nutri[cç][aã]o/gi.test(u[1])&&(u[1]="altaNutricao"))),u)),f=Object.fromEntries(c),p=[...o.querySelectorAll("input"),...o.querySelectorAll("textarea"),...o.querySelectorAll("select")].map(u=>u.dataset.title||u.id||u.name||"").filter(u=>new RegExp(n,"gi").test(u)),m=[];return p.forEach(u=>{const g=`${n.slice(0,1).toUpperCase()}${n.slice(1)}${u.slice(0,1).toUpperCase()}${u.slice(1,u.indexOf(" ")).replace(/ome/gi,"ame").replace(/first/gi,"").slice(0,4)}`,j=`${u.slice(0,1).toUpperCase()}${u.slice(1,u.indexOf(" ")).replace(/ome/gi,"ame")}${n.slice(0,1).toUpperCase()}${n.slice(1).replace(/first/gi,"").slice(0,4)}`,y=[o.querySelector(`input[data-aloc^="name-${n}"]`)||o.querySelector(`input[data-title*=${g}]`)||o.querySelector(`select[data-title*=${g}]`)||o.querySelector(`input[data-title*=${j}]`)||o.querySelector(`select[data-title*=${j}]`),o.querySelector(`input[data-aloc*="cpf-${n}"]`)||o.querySelector(`input[id*=${g.replace("cpf","CPF")}]`)||o.querySelector(`select[id*=${g.replace("cpf","CPF")}]`)||o.querySelector(`input[id*=${j.replace("cpf","CPF")}] 
               `),o.querySelector(`input[data-aloc*="nac-${n}"]`)||o.querySelector(`input[data-title*="Nacional ${n.slice(0,1).toUpperCase()}${n.slice(1,n.length)}"]`)||o.querySelector(`input[id*="nac${n.slice(0,1).toUpperCase()}${n.slice(1,n.length)}"]`),o.querySelector(`input[data-aloc*="tel-${n}"]`)||o.querySelector(`input[data-title*="Tel ${n.slice(0,1).toUpperCase()}${n.slice(1,n.length)}"]`),o.querySelector(`input[data-aloc*="ddd-${n}"]`)||o.querySelector(`input[data-title*="DDD ${n.slice(0,1).toUpperCase()}${n.slice(1,n.length)}"]`),o.querySelector(`input[data-aloc*="email-${n}"]`)||o.querySelector(`input[id*="email-${n.slice(0,1).toUpperCase()}${n.slice(1,n.length)}"]`)||o.querySelector(`input[data-title*="Email ${n.slice(0,1).toUpperCase()}${n.slice(1,n.length)}"]`)];n==="stud"&&y.push(o.querySelector(`input[data-aloc*="dre-${n}"]`)||o.querySelector(`input[id*=${g.replace("dre","DRE")}] `)||o.querySelector(`select[id*=${g.replace("dre","DRE")}]`)||o.querySelector(`select[id*=${j.replace("dre","DRE")}]`)||o.querySelector(`input[id*=${j.replace("dre","DRE")}]`)),n==="pac"&&y.push(o.querySelector(`input[data-aloc*="firstname-${n}"]`)||o.querySelector(`input[data-aloc*="first-name-${n}"]`)||o.querySelector(`input[id*=${g}Name]`)||o.querySelector(`input[id*=name${j}]`)||o.querySelector("input[data-title*=Primeiro]")||o.querySelector("input[data-title*=Sobrenome]"),o.querySelector(`input[data-aloc*="familyname-${n}"]`)||o.querySelector(`input[data-aloc*="family-name-${n}"]`)||o.querySelector("input[id*=family]")||o.querySelector("input[data-title*=Sobrenome]"),o.querySelector(`select[data-aloc*="status-${n}"]`)||o.querySelector("select[id*=status]")||o.querySelector("select[data-title*=Status]")||o.querySelector('input[data-aloc*="status"]')||o.querySelector("input[id*=status]")||o.querySelector("input[data-title*=Status]")),y.forEach(S=>{S?(Object.keys(f).forEach(T=>{S.id.toLowerCase().match(new RegExp(`${T.replace("int","").replace("ext","")}`,"gi"))&&(S instanceof HTMLInputElement&&S.type==="number"?S.value=O(f[`${T}`].replace("+","")):(S instanceof HTMLInputElement||S instanceof HTMLSelectElement||S instanceof HTMLTextAreaElement)&&(S.value=f[`${T}`]))}),m.push(!0)):m.push(!1)})}),m.length===0&&console.error(`Error finding matches for alocation in context of ${n}`),m.filter(u=>u===!0).length>0}else E(s,`tr id ${(s==null?void 0:s.id)||"UNIDENTIFIED"} for gathering student data`,h(new Error))}else E(r,`btn id ${(r==null?void 0:r.id)||"UNIDENTIFIED"} for gathering student row data`,h(new Error));return!1}function Ht(r,t,o,n="Stud",l=!0,s,i="estudante"){try{if(!(r instanceof HTMLButtonElement||r instanceof HTMLInputElement&&r.type==="button"))throw new Error("Failed to validate Alocation Button reference");if(!(t instanceof HTMLElement))throw new Error("Failed to validate instance of Parent Element reference");if(!(o instanceof HTMLElement))throw new Error("Failed to validate instance of Forwarded Reference to Ancestral Element");const a=t.querySelectorAll(`table[id*=av${n}]`);a.length>0?a.forEach(c=>{const f=c.querySelectorAll(`button[class*=btnAloc${n}]`)||`button[id*=btnAloc${n}]`;c instanceof HTMLTableElement&&f.length!==c.rows.length-1&&console.warn(`Number of rows in ${n} Table id ${(c==null?void 0:c.id)||"UNIDENTIFIED"} and buttons for alocation are not equal. This might result in misleading data.
            Computed number of buttons: ${f.length};
            Computed number of rows (-1): ${c.rows.length-1}`),f.forEach(d=>{(i==="coordenador"||i==="supervisor")&&d.addEventListener("click",()=>{l=It(d,t,o,n.toLowerCase()),typeof l=="boolean"&&s?s(!l):alert("Erro obtendo dados para alocação selecionada. Feche manualmente.")})})}):C(a,`tabs in addListenerAlocation(), context ${n}`,h(new Error))}catch(a){console.error(`Error executing addListenerAlocation:
${a.message}`)}}function Yt(r,t=!0){var n,l,s,i,a;const o=document.getElementById("typeConsSel");if(o instanceof HTMLSelectElement){const c=(n=document.getElementById("avStuds"))==null?void 0:n.querySelectorAll("optgroup"),f=(l=document.getElementById("avProfs"))==null?void 0:l.querySelectorAll("optgroup"),d=(s=document.getElementById("listCPFStudsCons"))==null?void 0:s.querySelectorAll("optgroup"),p=(i=document.getElementById("listDREStudsCons"))==null?void 0:i.querySelectorAll("optgroup");c&&f?(Ue(c,f,d,p),t&&o.addEventListener("change",()=>{Ue(c,f,d,p)})):(console.error("Error finding inputs with datalists for autofilling. Emptying lists"),(a=r.current)==null||a.querySelectorAll("datalist").forEach(m=>m.innerHTML=""))}else E(o,"<select> for defining type of possible appointments",h(new Error))}function Ue(r,t,o,n){var p,m;const l=document.getElementById("relStudName"),s=document.getElementById("relProfName"),i=document.getElementById("avStuds"),a=document.getElementById("listCPFStudsCons"),c=document.getElementById("listDREStudsCons"),f=document.getElementById("avProfs"),d=document.getElementById("typeConsSel");if(l instanceof HTMLInputElement&&s instanceof HTMLInputElement&&d instanceof HTMLSelectElement&&i instanceof HTMLDataListElement&&f instanceof HTMLDataListElement){if(d.querySelectorAll("optgroup").length>1){const g=(m=(p=Array.from(d.querySelectorAll("option")).find(y=>y.selected===!0))==null?void 0:p.closest("optgroup"))==null?void 0:m.label,j=y=>{const S=y.closest("datalist");y.label!==g&&g!=="Geral"&&S.removeChild(y)};[r,t,o??[],n??[]].forEach((y,S)=>{S===0&&(i.innerHTML="",y.forEach(T=>{i.appendChild(T)})),S===1&&(f.innerHTML="",y.forEach(T=>{f.appendChild(T)})),S===2&&a instanceof HTMLElement&&(a.innerHTML="",y.forEach(T=>{a.appendChild(T)})),S===3&&c instanceof HTMLElement&&(c.innerHTML="",y.forEach(T=>{c.appendChild(T)})),y.forEach(T=>{j(T)})})}}else J(h(new Error),"Elements for filterAvMembers",l,s,d,i,a,c,f)}function Xt(r,t){if(r instanceof HTMLTableElement){const o=Array.from(r.querySelectorAll("tr")).slice(1);/geral/gi.test(t)?o.forEach(n=>{n.hidden=!1,n.querySelectorAll("button").forEach(l=>{l.disabled=!1})}):o.forEach(n=>{var i;n.hidden=!0;const l=n.querySelector('[id*="btnAloc"]');l instanceof HTMLButtonElement?l.disabled=!0:E(l,`btn for alocation in <tr> ${(n==null?void 0:n.id)||"UNIDENTIFIED"}`,h(new Error));const s=(i=n.querySelector('[class*="celArea"]'))==null?void 0:i.querySelector('output[data-title*="area"]');s instanceof HTMLOutputElement?/educação física(?: & nutrição)|nutrição|educação física/gi.test(t)?["educação","nutrição"].forEach(a=>{new RegExp(a,"gi").test(s.innerText.toLowerCase())&&new RegExp(a,"gi").test(t)&&(n.hidden=!1,l instanceof HTMLButtonElement?l.disabled=!1:E(l,`btn for alocation in <tr> ${(n==null?void 0:n.id)||"UNIDENTIFIED"}`,h(new Error)))}):/odontologia/gi.test(t)&&/odontologia/gi.test(s.innerText.toLowerCase())&&(n.hidden=!1,l instanceof HTMLButtonElement?l.disabled=!1:E(l,`btn for alocation in <tr> ${(n==null?void 0:n.id)||"UNIDENTIFIED"}`,h(new Error))):E(s,`<output> for defining working field in <tr> id ${(n==null?void 0:n.id)||"UNIDENTIFIED"}`,h(new Error))})}else E(r,`table id ${(r==null?void 0:r.id)||"UNIDENTIFIED"}`,h(new Error))}function se(r,t="pac"){if(r instanceof HTMLTableElement)switch(r.querySelectorAll("tr").forEach(o=>{const n=Array.from(r.rows).findIndex(s=>o===s);for(const s of o.attributes)/Unfilled0/gi.test(s.value)?s.value=s.value.replace(/Unfilled0/gi,`${n+1}`||"NotFound0"):/Unfilled1/gi.test(s.value)&&(s.value=s.value.replace(/Unfilled1/gi,`${n+1}`||"NotFound1"));let l=0;Array.from(o.querySelectorAll("*")).filter(s=>s instanceof Element).forEach(s=>{var i,a,c,f;for(const d of s.attributes)/Unfilled0/gi.test(d.value)&&(d.value=d.value.replaceAll(/Unfilled0/gi,`${n+1}`||"NotFound0")),/Unfilled1/gi.test(d.value)&&(d.value=d.value.replaceAll(/Unfilled1/gi,`${n+1}`||"NotFound1")),/UnfilledText/gi.test(d.value)&&(d.value=d.value.replaceAll(/UnfilledText/gi,`${(f=(c=(a=(i=r.querySelector("thead"))==null?void 0:i.querySelector("tr"))==null?void 0:a.getElementsByTagName("th")[l])==null?void 0:c.innerText)==null?void 0:f.replace(" ","-")}`)),/tagPh/gi.test(d.value)&&(d.value=d.value.replaceAll(/tagPh/gi,s.tagName.toLowerCase())),/tagP4/gi.test(d.value)&&(d.value=d.value.replace(/tagP4/gi,s.tagName.toLowerCase().slice(0,4)));s instanceof HTMLOutputElement&&l++})}),t){case"pac":r.querySelectorAll(".astAnchor").forEach(o=>{o instanceof HTMLLinkElement&&(/\.pdf/gi.test(o.href)?o.innerHTML=`
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-filetype-pdf" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5zM1.6 11.85H0v3.999h.791v-1.342h.803q.43 0 .732-.173.305-.175.463-.474a1.4 1.4 0 0 0 .161-.677q0-.375-.158-.677a1.2 1.2 0 0 0-.46-.477q-.3-.18-.732-.179m.545 1.333a.8.8 0 0 1-.085.38.57.57 0 0 1-.238.241.8.8 0 0 1-.375.082H.788V12.48h.66q.327 0 .512.181.185.183.185.522m1.217-1.333v3.999h1.46q.602 0 .998-.237a1.45 1.45 0 0 0 .595-.689q.196-.45.196-1.084 0-.63-.196-1.075a1.43 1.43 0 0 0-.589-.68q-.396-.234-1.005-.234zm.791.645h.563q.371 0 .609.152a.9.9 0 0 1 .354.454q.118.302.118.753a2.3 2.3 0 0 1-.068.592 1.1 1.1 0 0 1-.196.422.8.8 0 0 1-.334.252 1.3 1.3 0 0 1-.483.082h-.563zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638z"/>
              </svg>
              `:o.innerHTML=`
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-image" viewBox="0 0 16 16">
                <path d="M6.502 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"/>
                <path d="M14 14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zM4 1a1 1 0 0 0-1 1v10l2.224-2.224a.5.5 0 0 1 .61-.075L8 11l2.157-3.02a.5.5 0 0 1 .76-.063L13 10V4.5h-2A1.5 1.5 0 0 1 9.5 3V1z"/>
              </svg>
              `)});break;case"stud":break;case"prof":break;default:U("Reading context for fillTabAttr()",t,h(new Error))}else E(r,"Table called in fillTabAttr()",h(new Error))}function qt({shouldDisplayRowData:r,setDisplayRowData:t,dispatch:o,shouldShowAlocBtn:n=!0,state:l=!0}){const s=x.useContext(D).userClass,i=x.useMemo(()=>[],[]),a=x.useRef(null),c=x.useRef(null),f=x.useRef(null);return x.useEffect(()=>{try{if(!(f.current instanceof HTMLTableSectionElement))throw E(f.current,"Validation of Table Body instance",h(new Error));if(i.length>0&&f.current.querySelector("tr"))return;setTimeout(()=>{i.length>0||we("patients","_table",!0).then(d=>{var m;d.forEach(u=>{!i.includes(u)&&i.push({name:u.name,tel:u.tel,email:u.email,next_appointed_day:u.next_appointed_day,treatment_beg:u.treatment_beg,treatment_end:u.treatment_end,current_status:u.current_status,signature:u.signature,historic:u.historic,idf:u.idf})});try{if(!(a.current instanceof HTMLElement))throw E(a.current,"Validation of Table reference",h(new Error));if(!(f.current instanceof HTMLElement))throw E(f.current,"Validation of Table Body Reference",h(new Error));b[`${f.current.id}`]&&!b[`${f.current.id}`]._internalRoot?setTimeout(()=>{var u,g,j;try{if(!(a.current instanceof HTMLElement))throw E(a.current,"Validation of Table reference",h(new Error));if(!(f.current instanceof HTMLElement))throw E(f.current,"Validation of Table Body Reference",h(new Error));if(f.current.querySelector("tr"))return;if((u=b[`${f.current.id}`])==null||u.unmount(),delete b[`${f.current.id}`],f.current.remove(),b[`${a.current.id}`]||(b[`${a.current.id}`]=P(a.current)),(g=b[`${a.current.id}`])==null||g.render(e.jsxs(H,{FallbackComponent:()=>e.jsx(q,{message:"Error reloading replacement for table body"}),children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",className:"noInvert",children:e.jsxs("em",{className:"noInvert",children:["Lista Recuperada da Ficha de Pacientes registrados. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[e.jsx("col",{"data-col":1}),e.jsx("col",{"data-col":2}),e.jsx("col",{"data-col":3}),e.jsx("col",{"data-col":4}),e.jsx("col",{"data-col":5}),e.jsx("col",{"data-col":6}),e.jsx("col",{"data-col":7}),e.jsx("col",{"data-col":8}),s==="coordenador"&&e.jsx("col",{"data-col":9}),s==="coordenador"&&e.jsx("col",{"data-col":10}),s==="coordenador"&&e.jsx("col",{"data-col":11}),n&&e.jsx("col",{"data-col":12})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-rowUnfilled0","data-row":1,children:[s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":1,children:"CPF"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?2:1,children:"Nome"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?3:2,children:"E-mail"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?4:3,children:"Telefone"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?5:4,children:"Próximo Dia de Consulta"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?6:5,children:"Período de Acompanhamento"}),s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":7,children:"Assinatura"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?8:6,children:"Status"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?9:7,children:"Histórico"}),s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":10,children:"Alteração"}),s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":11,children:"Exclusão"}),n&&e.jsx("th",{className:"alocCel",scope:"col","data-row":1,"data-col":s==="coordenador"?12:8,children:"Alocação"})]})}),e.jsx("tbody",{className:"pacTbody",ref:f,children:e.jsx("span",{style:{marginBlock:"2rem",position:"absolute"},children:e.jsx(le,{spinnerClass:"spinner-border",spinnerColor:"text-info",message:"Loading Patients Table..."})})})]})),f.current=document.querySelector(".pacTbody"),!(f.current instanceof HTMLElement))throw E(f.current,"Validation of replaced tbody",h(new Error));b[`${f.current.id}`]||(b[`${f.current.id}`]=P(f.current)),f.current.querySelector("tr")||(j=b[`${f.current.id}`])==null||j.render(i.map((y,S)=>e.jsx(Ve,{nRow:S+2,pac:y,shouldShowAlocBtn:n,tabRef:a},`pac_row__${S+2}`))),setTimeout(()=>{var y;(a==null?void 0:a.current)instanceof HTMLTableElement?(z(a.current),se(a.current)):E(a.current,`tabPacRef id ${((y=a==null?void 0:a.current)==null?void 0:y.id)||"UNIDENTIFIED"} in useEffect() for tableRef`,h(new Error))},300)}catch(y){console.error(`Error executing scheduled rendering of Table Body Content Replacement:
${y.message}`)}},1e3):b[`${f.current.id}`]=P(f.current),f.current.querySelector("tr")||(m=b[`${f.current.id}`])==null||m.render(i.map((u,g)=>{var j,y;return Array.from(((j=f.current)==null?void 0:j.querySelectorAll("output"))??[]).some(S=>S.innerText===u.idf)||Array.from(((y=f.current)==null?void 0:y.querySelectorAll("tr"))??[]).some(S=>{var T;return S.dataset.key&&((T=f.current)==null?void 0:T.querySelector(`tr[data-key=${S.dataset.key}`))})?e.jsx(e.Fragment,{}):e.jsx(Ve,{nRow:g+2,pac:u,shouldShowAlocBtn:n,tabRef:a},`pac_row__${g+2}`)})),setTimeout(()=>{var u;(a==null?void 0:a.current)instanceof HTMLTableElement?(z(a.current),se(a.current)):E(a.current,`tabPacRef id ${((u=a==null?void 0:a.current)==null?void 0:u.id)||"UNIDENTIFIED"} in useEffect() for tableRef`,h(new Error))},300),setTimeout(()=>{var u;!document.querySelector("tr")&&document.querySelector("table")&&(b[`${document.querySelector("table").id}`]||(b[`${document.querySelector("table").id}`]=P(document.querySelector("table"))),(u=b[`${document.querySelector("table").id}`])==null||u.render(e.jsx(q,{message:"Failed to render table"})))},5e3)}catch(u){console.error(`Error executing rendering of Table Body Content:
${u.message}`)}const p=()=>{try{if(!((c==null?void 0:c.current)instanceof HTMLElement))throw E(c.current,"sectTabRef in useEffect()",h(new Error));w([...c.current.querySelectorAll("*"),c.current]),Mt(c.current),Me(c.current),document.getElementById("btnExport")&&B(s,["coordenador"],c.current,document.getElementById("btnExport")),document.querySelectorAll(".outpPacStatus").forEach((g,j)=>{try{if(!(g instanceof HTMLElement))throw E(g,"Validation of output for patient status",h(new Error));g.innerText.toLowerCase().trim()==="em emergência"&&(g.style.color="red")}catch(y){console.error(`Error executing iteration ${j} for checking Patient Status:
${y.message}`)}});const u=document.getElementById("regstPacDlg");u&&o&&c.current.querySelectorAll(".btnAloc").forEach((g,j)=>{try{Ht(g,u,u,"Pac",l,o,s)}catch(y){console.error(`Error executing iteration ${j} for adding alocation button listener in patients table:
${y.message}`)}})}catch(u){console.error(`Error executing for styling table:
${u.message}`)}};setTimeout(()=>{var u;(u=f.current)!=null&&u.querySelector("tr")?p():setTimeout(()=>p(),1800)},1200)}).catch(d=>console.error(`Failed to fetch from Patients Table: ${d.message}`))},300)}catch(d){console.error(`Error executing useEffect for Table Body Reference:
${d.message}`)}},[o,n,s]),x.useEffect(()=>{if((c==null?void 0:c.current)instanceof HTMLElement){const d=p=>p.key==="Escape"&&t(!r);return addEventListener("keydown",d),()=>removeEventListener("keydown",d)}else E(c.current,"sectTabRef in useEffect()",h(new Error))},[c,t]),e.jsx("section",{className:"form-padded",id:"sectPacsTab",ref:c,children:e.jsxs("table",{className:"table table-striped table-responsive table-hover tabPacs",id:"avPacsTab",ref:a,children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",className:"noInvert",children:e.jsxs("em",{className:"noInvert",children:["Lista Recuperada da Ficha de Pacientes registrados. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[e.jsx("col",{"data-col":1}),e.jsx("col",{"data-col":2}),e.jsx("col",{"data-col":3}),e.jsx("col",{"data-col":4}),e.jsx("col",{"data-col":5}),e.jsx("col",{"data-col":6}),e.jsx("col",{"data-col":7}),e.jsx("col",{"data-col":8}),s==="coordenador"&&e.jsx("col",{"data-col":9}),s==="coordenador"&&e.jsx("col",{"data-col":10}),s==="coordenador"&&e.jsx("col",{"data-col":11}),n&&e.jsx("col",{"data-col":12})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-rowUnfilled0","data-row":1,children:[s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":1,children:"CPF"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?2:1,children:"Nome"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?3:2,children:"E-mail"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?4:3,children:"Telefone"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?5:4,children:"Próximo Dia de Consulta"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?6:5,children:"Período de Acompanhamento"}),s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":7,children:"Assinatura"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?8:6,children:"Status"}),e.jsx("th",{scope:"col","data-row":1,"data-col":s==="coordenador"?9:7,children:"Histórico"}),s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":10,children:"Alteração"}),s==="coordenador"&&e.jsx("th",{scope:"col","data-row":1,"data-col":11,children:"Exclusão"}),n&&e.jsx("th",{className:"alocCel",scope:"col","data-row":1,"data-col":s==="coordenador"?12:8,children:"Alocação"})]})}),e.jsx("tbody",{className:"pacTbody",ref:f,children:e.jsx("span",{style:{marginBlock:"2rem",position:"absolute"},children:e.jsx(le,{spinnerClass:"spinner-border",spinnerColor:"text-info",message:"Loading Patients Table..."})})})]})})}function We(){const[r,t]=x.useState(!1),o=x.useRef(null),n=x.useRef(null),l=x.useCallback(()=>{var i;de([...document.querySelectorAll(".form-padded"),...document.querySelectorAll(".ovFlAut"),...document.querySelectorAll("[scrollbar-width=none]")],[!1,0],!0,[document.getElementById("sectPacsTab")]),document.querySelector("table").style.minHeight="revert";const s=(i=document.getElementById("sectsPacsTab"))==null?void 0:i.nextElementSibling;(s==null?void 0:s.id)===""&&s instanceof HTMLDivElement&&s.remove()},[]);return x.useEffect(()=>{if((o==null?void 0:o.current)instanceof HTMLFormElement){const s=n.current||o.current.querySelector("#btnExport");s instanceof HTMLButtonElement?K(o.current):E(s,"<button> for triggering generation of spreadsheet in the table for checking pacients",h(new Error)),l(),w([...o.current.querySelectorAll("*"),o.current])}else E(o==null?void 0:o.current,"formRef.current in useEffect() for PacTabForm",h(new Error))},[o,l]),ce("pacExporter",o.current),x.useEffect(()=>Z(o.current)),e.jsxs("form",{id:"formRemovePac",name:"form_pacs_table",className:"form-padded-nosb wid101",action:"patients_table",method:"get",target:"_top",ref:o,children:[e.jsxs("div",{role:"group",className:"wsBs flexNoWC cGap1v",children:[e.jsx("h1",{className:"mg-3b bolded",children:e.jsx("strong",{id:"titleTabPacs",children:"Tabela de Pacientes Registrados"})}),e.jsx("em",{children:e.jsx("small",{role:"textbox",children:"Verifique aqui as informações para leitura, alteração e remoção de pacissionais no projeto."})}),e.jsx("hr",{})]}),e.jsxs("section",{className:"form-padded pdL0",id:"sectPacsTab",children:[e.jsx(qt,{setDisplayRowData:t,shouldDisplayRowData:r,shouldShowAlocBtn:!1}),e.jsx("div",{role:"group",className:"form-padded pdL0 widQ460FullW "})]}),e.jsx("button",{type:"button",id:"btnExport",className:"btn btn-success flexAlItCt flexJC flexBasis50 bolded widQ460FullW",name:"btnExportPacsTab",ref:n,"data-active":"false",title:"Gere um .xlsx com os dados preenchidos",onClick:s=>{I.pacExporter||(I.pacExporter=new X),I.pacExporter.handleExportClick(s,`tabelaDePacientes__d${new Date().getDay()}_m${new Date().getMonth()+1}_y${new Date().getFullYear()}`,o.current,document.getElementById("titleTabPacs")||o.current),new AbortController().signal},children:"Gerar Planilha"})]})}function Ft({root:r,setDisplayResetDlg:t,shouldDisplayResetDlg:o=!0}){b.mainRoot||(b.mainRoot=P(document.getElementById("formRoot")),r=b.mainRoot);const n=x.useRef(null),l=()=>{document.querySelector("form").reset(),r.render(e.jsx(pt,{}))},s=()=>{t(!o),!o&&n.current instanceof HTMLDialogElement&&n.current.close()};return x.useEffect(()=>{const i=()=>{t(!o),!o&&n.current instanceof HTMLDialogElement&&n.current.close()};o&&n.current instanceof HTMLDialogElement&&n.current.showModal(),w([...n.current.querySelectorAll("*"),n.current]);const a=c=>{c.key==="Escape"&&i()};return addEventListener("keydown",a),()=>removeEventListener("keydown",a)},[n]),e.jsx(e.Fragment,{children:o&&e.jsx("dialog",{role:"alertdialog",ref:n,className:"modal-content modal-content-fit",id:"reset-dlg",onClick:i=>{Q(i,i.currentTarget).some(a=>a===!0)&&(i.currentTarget.close(),t(!o))},children:e.jsxs(H,{FallbackComponent:()=>e.jsx(ue,{renderError:new Error("Erro carregando a janela modal!"),onClick:s}),children:[e.jsx("section",{role:"alert",className:"flexNoW",children:e.jsx("button",{className:"btn btn-close forceInvert",onClick:s})}),e.jsxs("section",{role:"alert",className:"flexNoWC flexJtC flexAlItCt rGap2v",children:[e.jsxs("div",{role:"group",className:"flexJtC flexAlItCt flexNoWC wsBs noInvert",children:[e.jsx("h3",{className:"bolded",children:"Confirmar reset?"}),e.jsx("small",{role:"textbox",className:"bolded txaCt",children:"Esse processo é totalmente irreversível!"})]}),e.jsx("button",{className:"btn btn-warning bolded",onClick:()=>{s(),l()},children:"Confirmar"})]})]})})})}function rt({renderForm:r}){const[t,o]=x.useState(!1),n=()=>o(!t),l=x.useRef(null);return x.useEffect(()=>{const s=document.getElementById("formBodySchedSect")||document.querySelector("form");l.current instanceof HTMLButtonElement&&s?(s.outerHTML,w([document.getElementById("btnResetTab")])):setTimeout(()=>{const i=document.getElementById("formBodySchedSect")||document.querySelector("form");l.current instanceof HTMLButtonElement&&i&&(i.outerHTML,w([document.getElementById("btnResetTab")]))},2e3)},[l]),e.jsxs(H,{FallbackComponent:()=>e.jsx(q,{message:"Errro carregando botão de reset"}),children:[e.jsx("button",{type:"button",id:"btnResetTab",className:"btn btn-warning flexAlItCt flexJC flexBasis50 bolded opaquelightEl widFull noInvert",name:"btnResetSched",ref:l,onClick:n,children:"Resetar Formulário"}),t&&e.jsx(Ft,{setDisplayResetDlg:o,shouldDisplayResetDlg:t,root:b.mainRoot,renderForm:r})]})}function Ae({mainRoot:r}){const t=x.useContext(D).userClass,[o]=x.useState(!0),n=x.useRef(null),l=x.useRef(null),s=x.useRef(null),i=x.useRef(null),a=x.useCallback(()=>{de([...document.querySelectorAll(".form-padded"),...document.querySelectorAll(".ovFlAut"),...document.querySelectorAll("[scrollbar-width=none]")])},[]);return x.useEffect(()=>{if((n==null?void 0:n.current)instanceof HTMLFormElement){G.globalDataProvider&&G.globalDataProvider.initPersist(n.current,G.globalDataProvider);const c=n.current.querySelector("#inpEmailProf"),f=n.current.querySelector("#inpNameProf"),d=Array.from(n.current.querySelectorAll('input[type="date"]')),p=document.getElementById("deactAutocorrectBtnProf"),m=document.getElementById("deactAutofilltBtnProf");if(m instanceof HTMLInputElement?(m.checked=!0,$.isAutofillProfOn=!0,m.addEventListener("change",()=>{$.isAutofillProfOn=!$.isAutofillProfOn,c instanceof HTMLInputElement&&W(c),l.current instanceof HTMLInputElement&&ae(l.current),s.current instanceof HTMLInputElement&&ie(s.current)})):A(m,"Element for toggling autofill in new Student form",h(new Error)),p instanceof HTMLInputElement&&(p.type==="checkbox"||p.type==="radio")?(p.checked=!0,$.isAutocorrectProfOn=!0,p.addEventListener("change",()=>{$.isAutocorrectProfOn=!$.isAutocorrectProfOn,f instanceof HTMLInputElement&&ne(f)})):E(p,"toggleAutocorrect in ProfForm",h(new Error)),f instanceof HTMLInputElement?f.addEventListener("input",()=>{p instanceof HTMLInputElement&&p.checked===!0?$.isAutocorrectProfOn=!0:$.isAutocorrectProfOn=!1,ne(f,$.isAutocorrectProfOn)}):A(f,"nameInput in form for new Prof register",h(new Error)),c instanceof HTMLInputElement?(c.addEventListener("input",()=>{($.isAutofillProfOn||m instanceof HTMLInputElement&&m.checked)&&W(c)}),c.addEventListener("click",()=>{($.isAutofillProfOn||m instanceof HTMLInputElement&&m.checked)&&W(c)})):A(c,"emailInput in form for new Profents",h(new Error)),d.length>0&&d.every(g=>g instanceof HTMLInputElement&&g.type==="date")){Le(d);for(const g of d)g.value=`${new Date().getFullYear()}-${(new Date().getMonth()+1).toString().padStart(2,"0")}-${new Date().getDate().toString().padStart(2,"0")}`,g.style.color="initial"}else C(d,"dateInputs in form for new Profents",h(new Error));const u=i.current||document.querySelector("#btnExport");u instanceof HTMLButtonElement?K(n.current):E(u,"exportBtn in New Professional form",h(new Error)),a(),w([...n.current.querySelectorAll("*"),n.current])}else E(n.current,"formRef.current in useEffect()",h(new Error))},[n,a]),x.useEffect(()=>{(l==null?void 0:l.current)instanceof HTMLInputElement&&l.current.id.match(/cpf/gi)?l.current.addEventListener("input",()=>{$.isAutofillProfOn&&ae(l.current)}):A(l.current,"CPFProfRef.current in useEffect()",h(new Error))},[l]),x.useEffect(()=>{(s==null?void 0:s.current)instanceof HTMLInputElement&&s.current.id.match(/tel/gi)?s.current.addEventListener("input",()=>{$.isAutofillProfOn&&ie(s.current,!0)}):A(s.current,"telProfRef.current in useEffect()",h(new Error))},[s]),x.useEffect(()=>{B(t,["coordenador"],...document.getElementsByTagName("input"),...document.getElementsByTagName("button"),...document.querySelector("form").getElementsByTagName("select"))},[n,t]),ce("profExporter",n.current,!0),x.useEffect(()=>Z(n.current)),e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Erro carregando formulário para profissionais"}),children:o&&e.jsxs("form",{id:"formAddProf",name:"form_prof",action:"submit_prof_form",encType:"application/x-www-form-urlencoded",method:"post",target:"_top",autoComplete:"on",ref:n,onSubmit:c=>t==="coordenador"&&Ke(c,c.currentTarget).then(f=>f[0]?Ze("profs",f[2],!0):c.preventDefault()),children:[e.jsxs("div",{role:"group",id:"formAddProfHDiv",className:"mg-3b",children:[e.jsx("h1",{id:"titleAddProfHBlock",className:"bolded",children:e.jsx("strong",{id:"titleAddProfH",children:"Cadastro de Profissional"})}),e.jsx("small",{role:"textbox",id:"detailsAddProfHBlock",children:e.jsx("em",{children:"Detalhe aqui os dados para o Profissional"})})]}),e.jsxs("div",{role:"group",className:"flexNoWR flexQ460NoWC",children:[e.jsxs("span",{role:"group",className:"form-switch spanRight",id:"autocorrectDivprof",children:[e.jsx("input",{type:"checkbox",className:"deActBtn form-check-input",role:"switch",id:"deactAutocorrectBtnProf",title:"Correção automática de Nomes","data-title":"Autocorreção(Profissional)"}),e.jsx("strong",{children:"Autocorreção"})]}),e.jsxs("span",{role:"group",className:"form-switch spanRight",id:"autofillDivprof",children:[e.jsx("input",{type:"checkbox",className:"deActBtn form-check-input",role:"switch",id:"deactAutofilltBtnProf",title:"Correção automática de CPF, Telefone e E-mail","data-title":"Autopreenchimento(Profissional)"}),e.jsx("strong",{children:"Autopreenchimento"})]})]}),e.jsx("hr",{className:"rdc05rHr460Q"}),e.jsxs("fieldset",{className:"flexColumn",id:"formAddProfBodyFs",children:[e.jsxs("label",{htmlFor:"inpNameProf",children:[e.jsx("strong",{id:"titleNameProf",children:"Nome Completo:"}),e.jsx("input",{type:"text",id:"inpNameProf",name:"name",className:"form-control autocorrectAll ssPersist minText maxText patternText",placeholder:"Preencha com o nome completo",autoFocus:!0,autoComplete:"given-name",autoCapitalize:"true","data-title":"Nome Completo: Profissional","data-reqlength":"3","data-maxlength":"99","data-pattern":"[^0-9]","data-flags":"gi",minLength:3,maxLength:99,required:!0,onInput:c=>{k(c.currentTarget),window&&localStorage.setItem("name",c.currentTarget.value)}})]}),e.jsxs("label",{htmlFor:"inpCPFProf",children:[e.jsx("strong",{id:"titleCPFProf",children:"CPF:"}),e.jsx("input",{type:"text",id:"inpCPFProf",name:"cpf",minLength:15,maxLength:16,pattern:"^(\\d{3}\\.?\\d{3}\\.?\\d{3}-?\\d{2})$",className:"form-control ssPersist minText maxText patternText",placeholder:"Preencha com o CPF",autoComplete:"username","data-title":"CPF Profissional","data-reqlength":"15","data-max-length":"16","data-pattern":"^(d{3}.){2}d{3}-d{2}$",ref:l,required:!0})]}),e.jsxs("label",{htmlFor:"inpTel",children:[e.jsx("strong",{id:"titleTelProf",children:"Telefone (com DDD):"}),e.jsx("input",{type:"tel",list:"listProfRegstTel",id:"inpTel",name:"telephone",className:"form-control ssPersist minText maxText patternText",minLength:8,maxLength:20,placeholder:"Preencha com o Telefone para contato",autoComplete:"tel","data-title":"Telefone Profissional","data-reqlength":"8","data-maxlength":"20","data-pattern":"^(\\+\\d{2}\\s?)?(\\(\\d{2}\\)\\s?)?\\d{3,5}[-\\s]?\\d{4}$",required:!0,ref:s,onInput:c=>k(c.currentTarget)}),e.jsx("datalist",{id:"listProfRegstTel"})]}),e.jsxs("label",{htmlFor:"inpEmailProf",children:[e.jsx("strong",{id:"titleEmailProf",children:"E-mail:"}),e.jsx("input",{type:"email",list:"listProfRegstEmail",id:"inpEmailProf",name:"email",className:"form-control ssPersist",maxLength:20,placeholder:"Preencha com o E-mail para contato",autoComplete:"email","data-title":"E-mail Profissional",onInput:c=>je(c.currentTarget,{min:6,pattern:["@","g"]})}),e.jsx("datalist",{id:"listProfRegstEmail"})]}),e.jsxs("label",{htmlFor:"inpCourseProf",children:[e.jsx("strong",{id:"titleOrigProf",children:"Curso de Origem:"}),e.jsx("input",{type:"text",list:"listCoursesProf",id:"inpCourseProf",name:"origin",minLength:3,maxLength:99,className:"form-control ssPersist minText maxText patternText",placeholder:"Preencha com o Curso do Membro Profissional",autoCapitalize:"true","data-title":"Curso de Origem do Membro Profissional","data-reqlength":"3","data-maxlength":"99","data-pattern":"educação\\sfísica|medicina|nutrição|odontologia|psicologia",required:!0,onInput:c=>k(c.currentTarget)}),e.jsxs("datalist",{id:"listCoursesProf",children:[e.jsx("option",{value:"Educação Física"}),e.jsx("option",{value:"Medicina"}),e.jsx("option",{value:"Nutrição"}),e.jsx("option",{value:"Odontologia"}),e.jsx("option",{value:"Psicologia"})]})]}),e.jsxs("label",{htmlFor:"inpAtuacao",children:[e.jsx("strong",{id:"titleActProf",children:"Área de atuação:"}),e.jsxs("select",{id:"inpAtuacao",name:"area",className:"form-select ssPersist","data-title":"Área de Atuação do Profissional",children:[e.jsx("option",{value:"educacaofisicanut",children:"Educação Física & Nutrição"}),e.jsx("option",{value:"odontologia",children:"Odontologia"}),e.jsx("option",{value:"psiq",children:"Psiquiatria & Psicologia"})]})]}),e.jsxs("label",{htmlFor:"inpEntr",children:[e.jsx("strong",{children:"Período de Entrada no Projeto:"}),e.jsx("input",{type:"text",id:"inpEntr",name:"beginning_semester",maxLength:7,className:"form-control ssPersist",placeholder:"Preencha com o Período (do Calendário) na entrada","data-title":"Período de Entrada do Profissional",required:!0,onInput:c=>k(c.currentTarget)})]}),e.jsxs("label",{htmlFor:"inpDayEntrProf",className:"forceInvert",children:[e.jsx("strong",{children:"Dia de Entrada no Projeto:"}),e.jsx("input",{type:"date",id:"inpDayEntrProf",name:"beginning_day",className:"form-control ssPersist maxCurrDate",placeholder:"Preencha com o Dia de Entrada do Profissional no projeto","data-title":"Dia de Entrada do Profissional",required:!0})]}),e.jsxs("div",{role:"group",className:"flexNoW flexJSe cGap2v flexAlItCt flexQ900NoWC rGapQ9002v",children:[e.jsx("button",{type:"submit",id:"btnSubmitNewProf",className:"btn btn-success flexAlItCt flexJC flexBasis50 widFull noInvert",children:e.jsx("strong",{children:"Finalizar Cadastro"})}),e.jsx("button",{type:"button",id:"btnExport",name:"btnExportProfsForm",className:"btn btn-primary flexAlItCt flexJC flexBasis50 widFull bolded noInvert",ref:i,"data-active":"false",title:"Gere um .xlsx com os dados preenchidos",onClick:c=>{var f;I.profExporter||(I.profExporter=new X),I.profExporter.handleExportClick(c,"newProfessional",n.current??document,((f=localStorage.getItem("name"))==null?void 0:f.replace(/\s/g,"-"))||"anonymous")},children:"Gerar Planilha"}),e.jsx(rt,{root:b.mainRoot,renderForm:e.jsx(Ae,{mainRoot:r})})]})]})]})})}function ze({tabRef:r,nRow:t,inDlg:o=!1,external:n=!1,prof:l={name:"Anônimo",email:"Não fornecido",tel:"Não fornecido",area:"Não definido",day:"Não definido",start_day:"Não definido",end_day:"Não definido",idf:"Não fornecido",external:!1}}){t=typeof t=="string"?parseInt(t):t;const[s,i]=x.useState(!1),a=x.useContext(D).userClass;return Number.isFinite(t)||(t=2),e.jsxs("tr",{id:`avProfs-row${t}`,"data-row":t,children:[a==="coordenador"&&e.jsx("th",{scope:"row",className:"celCPFProf","data-row":t,"data-col":"1",children:e.jsx("output",{className:`outputAvProf outputAvProf${t-1}`,id:`outpCPFProf-row${t}`,"data-title":`Identificador ${t}`,"data-aloc":"cpf-prof",children:l.idf||"Não fornecido"})}),e.jsx("td",{className:"celNameProf","data-row":t,"data-col":a==="coordenador"?"2":"1",children:e.jsx("output",{className:`outputAvProf outputAvProf${t-1}`,id:`outpNameProf-row${t}`,"data-title":`Nome do Profissional ${t}`,"data-aloc":"name-prof",children:l.name||"Anônimo"})}),!o&&e.jsx("td",{className:"celExtProf","data-row":t,"data-col":a==="coordenador"?"3":"2",children:e.jsx("output",{className:`outputAvProf outputAvProf${t-1}`,id:`outpExtProf-row${t}`,"data-title":`Externo ${t}`,"data-row":t,"data-col":a==="coordenador"?"3":"2","data-aloc":"external-prof",children:n?"Externo":"Interno"})}),e.jsx("td",{className:"celEmailProf","data-row":t,"data-col":a==="coordenador"?o?"4":"3":o?"3":"2",children:e.jsx("output",{className:`outputAvProf outputAvProf outputAvProf${t-1}`,id:`outpEmailProf-row${t}`,"data-title":`Email ${t}`,"data-aloc":"email-prof","data-row":t,"data-col":a==="coordenador"?o?"4":"3":o?"3":"2",children:e.jsx("address",{"data-row":t,"data-col":a==="coordenador"?o?"4":"3":o?"3":"2",children:e.jsx("a",{href:`mailto:${l.email||"null"}`,target:"_blank",rel:"nofollow",id:`emaila-prof-row${t}`,"data-row":t,"data-col":a==="coordenador"?o?"4":"3":o?"3":"2",children:`${l.email||"Não fornecido"}`})})})}),e.jsx("td",{className:"celTelProf","data-row":t,"data-col":a==="coordenador"?o?"5":"4":o?"4":"3",children:e.jsx("output",{className:`outputAv outputAvProf outputAvProf${t-1}`,id:`outpTelProf-row${t}`,"data-title":`Telefone ${t}`,"data-aloc":"tel-prof","data-row":t,"data-col":o?"5":"4",children:`${l.tel||"Não fornecido"}`})}),e.jsx("td",{className:"celAreaProf","data-row":t,"data-col":a==="coordenador"?o?"6":"5":o?"5":"4",children:e.jsx("output",{className:`outputAvProf outputAvProf${t-1}`,id:`outpAreaProf-row${t}`,"data-title":`Área de atuação${t}`,"data-aloc":"area-prof","data-row":t,"data-col":a==="coordenador"?o?"6":"5":o?"5":"4",children:`${l.area||"Não definido"}`})}),e.jsx("td",{className:"celDayProf","data-row":t,"data-col":a==="coordenador"?o?"7":"6":o?"6":"5",children:e.jsx("output",{className:`outputAvProf outputAvProf${t-1}`,id:`outpDayProf-row${t}`,"data-title":`Dia de atividade${t}`,"data-aloc":"day-prof","data-row":t,"data-col":a==="coordenador"?o?"7":"6":o?"6":"5",children:`${l.day||"Não definido"}`})}),e.jsx("td",{className:"celIntervProf","data-row":t,"data-col":a==="coordenador"?o?"8":"7":o?"7":"6",children:e.jsx("output",{className:`outputAvProf outputAvProf outputAvProf${t-1}`,id:`outpIntervProf-row${t}`,"data-title":`Intervalo de Atividade ${t}`,"data-aloc":"interv-prof","data-row":t,"data-col":a==="coordenador"?o?"8":"7":o?"7":"6",children:`${Y(l.start_day)||"Não definido"} — ${Y(l.end_day)||"Não definido"}`})}),!o&&a==="coordenador"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:"celAlterProf","data-row":t,"data-col":"9",children:[e.jsx("button",{type:"button",id:"btnAlterRegstProf",className:"btn btn-info btnAffectRegst btnAlterRegst opaquelightEl",onClick:()=>i(!s),"data-row":t,"data-col":"9",children:e.jsx("small",{role:"textbox",className:"bolded fontLightWt",children:"Alterar"})}),s&&e.jsx(Ie,{dispatch:i,tabRef:r,state:s,name:l.name})]}),e.jsx("td",{"data-row":t,"data-col":"10",children:e.jsx(He,{context:"Prof"})})]}),o&&e.jsx("td",{className:"alocCel","data-row":t,"data-col":a==="coordenador"?"9":"8",children:e.jsx("button",{className:"btnAloc btnAlocProf btn btn-success widFull",id:`btnAlocProf-row${t}`,children:e.jsx("span",{role:"textbox",children:"Alocar"})})})]})}function Ge(){const r=x.useContext(D).userClass,t=x.useMemo(()=>[],[]),o=x.useRef(null),n=x.useRef(null),l=x.useRef(null),s=x.useRef(null),i=x.useCallback(()=>{var c;de([...document.querySelectorAll(".form-padded"),...document.querySelectorAll(".ovFlAut"),...document.querySelectorAll("[scrollbar-width=none]")],[!1,0],!0,[document.getElementById("sectProfsTab")]),document.querySelector("table").style.minHeight="revert";const a=(c=document.getElementById("avPacsTab"))==null?void 0:c.nextElementSibling;(a==null?void 0:a.id)===""&&a instanceof HTMLDivElement&&a.remove()},[]);return x.useEffect(()=>{try{if(!(l.current instanceof HTMLTableSectionElement))throw E(l.current,"Validation of Table Body instance",h(new Error));if(t.length>0&&l.current.querySelector("tr"))return;setTimeout(()=>{t.length>0||we("profs","_table",!0).then(a=>{var f;a.forEach(d=>{!t.includes(d)&&t.push({name:d.name,tel:d.tel,email:d.email,area:d.area,start_day:d.start_day,end_day:d.end_day,day:d.day,idf:d.idf})});try{if(!(n.current instanceof HTMLElement))throw E(n.current,"Validation of Table reference",h(new Error));if(!(l.current instanceof HTMLElement))throw E(l.current,"Validation of Table Body Reference",h(new Error));b[`${l.current.id}`]&&!b[`${l.current.id}`]._internalRoot?setTimeout(()=>{var d,p,m;try{if(!(n.current instanceof HTMLElement))throw E(n.current,"Validation of Table reference",h(new Error));if(!(l.current instanceof HTMLElement))throw E(l.current,"Validation of Table Body Reference",h(new Error));if(l.current.querySelector("tr"))return;if((d=b[`${l.current.id}`])==null||d.unmount(),delete b[`${l.current.id}`],l.current.remove(),b[`${n.current.id}`]||(b[`${n.current.id}`]=P(n.current)),(p=b[`${n.current.id}`])==null||p.render(e.jsxs(H,{FallbackComponent:()=>e.jsx(q,{message:"Error reloading replacement for table body"}),children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",children:e.jsxs("em",{children:["Lista Recuperada da Ficha de Profissionais registrados. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[r==="coordenador"&&e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-row1",children:[r==="coordenador"&&e.jsx("th",{scope:"col",children:"CPF"}),e.jsx("th",{scope:"col",children:"Nome"}),e.jsx("th",{scope:"col",children:"Externo"}),e.jsx("th",{scope:"col",children:"E-mail"}),e.jsx("th",{scope:"col",children:"Telefone"}),e.jsx("th",{scope:"col",children:"Área de Atuação"}),e.jsx("th",{scope:"col",children:"Dia de Trablho"}),e.jsx("th",{scope:"col",children:"Período de Participação"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Alteração"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Exclusão"})]})}),e.jsx("tbody",{id:"profsTbody",ref:l,children:e.jsx("span",{style:{margin:"2rem",position:"absolute"},children:e.jsx(le,{spinnerClass:"spinner-border",spinnerColor:"text-info",message:"Loading Professionals Table..."})})})]})),l.current=document.getElementById("profsTbody"),!(l.current instanceof HTMLElement))throw E(l.current,"Validation of replaced tbody",h(new Error));b[`${l.current.id}`]||(b[`${l.current.id}`]=P(l.current)),l.current.querySelector("tr")||(m=b[`${l.current.id}`])==null||m.render(t.map((u,g)=>e.jsx(ze,{nRow:g+2,prof:u,tabRef:n},`prof_row__${g+2}`))),setTimeout(()=>{var u;(n==null?void 0:n.current)instanceof HTMLTableElement?(z(n.current),se(n.current)):E(n.current,`tabRef id ${((u=n==null?void 0:n.current)==null?void 0:u.id)||"UNIDENTIFIED"} in useEffect() for tableRef`,h(new Error))},300)}catch(u){console.error(`Error executing scheduled rendering of Table Body Content Replacement:
${u.message}`)}},1e3):b[`${l.current.id}`]=P(l.current),l.current.querySelector("tr")||(f=b[`${l.current.id}`])==null||f.render(t.map((d,p)=>{var m,u;return Array.from(((m=l.current)==null?void 0:m.querySelectorAll("output"))??[]).some(g=>g.innerText===d.idf)||Array.from(((u=l.current)==null?void 0:u.querySelectorAll("tr"))??[]).some(g=>{var j;return g.dataset.key&&((j=l.current)==null?void 0:j.querySelector(`tr[data-key=${g.dataset.key}`))})?e.jsx(e.Fragment,{}):e.jsx(ze,{nRow:p+2,prof:d,tabRef:n},`prof_row__${p+2}`)})),setTimeout(()=>{var d;(n==null?void 0:n.current)instanceof HTMLTableElement?(z(n.current),se(n.current)):E(n.current,`tabRef id ${((d=n==null?void 0:n.current)==null?void 0:d.id)||"UNIDENTIFIED"} in useEffect() for tableRef`,h(new Error))},300),setTimeout(()=>{var d;!document.querySelector("tr")&&document.querySelector("table")&&(b[`${document.querySelector("table").id}`]||(b[`${document.querySelector("table").id}`]=P(document.querySelector("table"))),(d=b[`${document.querySelector("table").id}`])==null||d.render(e.jsx(q,{message:"Failed to render table"})))},5e3)}catch(d){console.error(`Error executing rendering of Table Body Content:
${d.message}`)}const c=()=>{try{if(!(n.current instanceof HTMLElement))throw E(n.current,"Validation of Table instance",h(new Error));z(n.current),Me(n.current),document.getElementById("btnExport")&&B(r,["coordenador"],n.current,document.getElementById("btnExport"))}catch(d){console.error(`Error executing handleAttempt for Professionals table:
${d.message}`)}};setTimeout(()=>{var d;(d=l.current)!=null&&d.querySelector("tr")?c():setTimeout(()=>c(),1800)},1200)}).catch(a=>console.error(`Failed to fetch from Professionals Table: ${a.message}`)).finally(()=>{setTimeout(()=>{var a;return w([...((a=n.current)==null?void 0:a.querySelectorAll("*"))??[],n.current])},1200),setTimeout(()=>{var a;return w([...((a=n.current)==null?void 0:a.querySelectorAll("*"))??[],n.current])},3e3)})},300)}catch(a){console.error(`Error executing useEffect for Table Body Reference:
${a.message}`)}},[r]),x.useEffect(()=>{if((o==null?void 0:o.current)instanceof HTMLFormElement){const a=s.current||o.current.querySelector("#btnExport");a instanceof HTMLButtonElement?K(o.current):E(a,"<button> for triggering generation of spreadsheet in the table for checking professionals",h(new Error)),i(),w([...o.current.querySelectorAll("*"),o.current])}else E(o==null?void 0:o.current,"formRef.current in useEffect() for TableProfForm",h(new Error))},[o,i]),x.useEffect(()=>{n.current instanceof HTMLElement&&B(r,["coordenador","supervisor"],n.current,document.getElementById("btnExport"))},[n,r]),ce("tabProfExporter",o.current),x.useEffect(()=>Z(o.current)),e.jsxs("form",{id:"formRemoveProf",name:"form_profs_table",className:"form-padded-nosb wid101",action:"profs_table",encType:"multipart/form-data",method:"get",target:"_top",autoComplete:"on",ref:o,children:[e.jsxs("div",{role:"group",className:"wsBs flexNoWC cGap1v",children:[e.jsx("h1",{className:"mg-3b bolded",children:e.jsx("strong",{id:"titleTabProfs",children:"Tabela de Profissionais Registrados"})}),e.jsx("em",{children:e.jsx("small",{role:"textbox",children:"Verifique aqui as informações para leitura, alteração e remoção de profissionais no projeto."})}),e.jsx("hr",{})]}),e.jsx("section",{className:"form-padded pdL0",id:"sectProfsTab",children:e.jsxs("table",{className:"table table-striped table-responsive table-hover tabPacs",id:"avPacsTab",ref:n,children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",children:e.jsxs("em",{children:["Lista Recuperada da Ficha de Profissionais registrados. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[r==="coordenador"&&e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-row1",children:[r==="coordenador"&&e.jsx("th",{scope:"col",children:"CPF"}),e.jsx("th",{scope:"col",children:"Nome"}),e.jsx("th",{scope:"col",children:"Externo"}),e.jsx("th",{scope:"col",children:"E-mail"}),e.jsx("th",{scope:"col",children:"Telefone"}),e.jsx("th",{scope:"col",children:"Área de Atuação"}),e.jsx("th",{scope:"col",children:"Dia de Trablho"}),e.jsx("th",{scope:"col",children:"Período de Participação"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Alteração"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Exclusão"})]})}),e.jsx("tbody",{ref:l,children:e.jsx("span",{style:{margin:"2rem",position:"absolute"},children:e.jsx(le,{spinnerClass:"spinner-border",spinnerColor:"text-info",message:"Loading Professionals Table..."})})})]})}),e.jsx("button",{type:"button",id:"btnExport",className:"btn btn-success flexAlItCt flexJC flexBasis50 bolded widQ460FullW",name:"btnExportProfsTab",ref:s,"data-active":"false",title:"Gere um .xlsx com os dados preenchidos",onClick:a=>{try{I.tabProfExporter||(I.tabProfExporter=new X),I.tabProfExporter.handleExportClick(a,"tabelaDeProfissionais",document.getElementById("titleTabProfs")??o.current??document,`d${new Date().getDate()}_m${new Date().getMonth()+1}_y${new Date().getFullYear()}`)}catch(c){console.error(`Error executing callback:
${c.message}`)}new AbortController().signal},children:"Gerar Planilha"})]})}function Qe({tabRef:r,nRow:t,inDlg:o=!1,stud:n={name:"Anônimo",email:"Não fornecido",tel:"Não fornecido",area:"Não definido",day:"Não definido",start_day:"Não definido",end_day:"Não definido",dre:"Não fornecido",cpf:"Não fornecido"}}){t=typeof t=="string"?parseInt(t):t;const[l,s]=x.useState(!1),i=x.useContext(D).userClass;return Number.isFinite(t)||(t=2),e.jsxs("tr",{id:`avStuds-row${t}`,"data-row":t,children:[i==="coordenador"&&e.jsx("th",{scope:"row",className:"celCPFStud","data-row":t,"data-col":"1",children:e.jsx("output",{className:`outputAvStud ouputAvStud${t-1}`,id:`outpCPFStud-row${t}`,"data-title":`cpf-stud-row${t}`,"data-row":t,"data-col":"1","data-aloc":"cpf-stud",children:n.cpf||"Não fornecido"})}),i==="coordenador"&&e.jsx("td",{className:"celDREStud","data-row":t,"data-col":"2",children:e.jsx("output",{className:`outputAvStud ouputAvStud${t-1}`,id:`outpDREStud-row${t}`,"data-title":`dre-stud-row${t}`,"data-row":t,"data-col":"2","data-aloc":"dre-stud",children:n.dre||"Não fornecido"})}),e.jsx("td",{className:"celNameStud","data-row":t,"data-col":i==="coordenador"?"3":"1",children:e.jsx("output",{className:`outputAvStud ouputAvStud${t-1}`,id:`outpNameStud-row${t}`,"data-title":`name-stud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"3":"1","data-aloc":"name-stud",children:n.name||"Anônimo"})}),e.jsx("td",{className:"celEmailStud","data-row":t,"data-col":i==="coordenador"?"4":"2",children:e.jsx("output",{className:`outputAvStud outputAvStud ouputAvStud${t-1}`,id:`outpEmailStud-row${t}`,"data-title":`email-stud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"4":"2","data-aloc":"email-stud",children:e.jsx("address",{"data-row":t,"data-col":i==="coordenador"?"4":"2",children:e.jsx("a",{href:`mailto:${n.email||"null"}`,target:"_blank",rel:"nofollow",id:`emaila-stud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"4":"2",children:`${n.email||"Não fornecido"}`})})})}),e.jsx("td",{className:"celTelStud","data-row":t,"data-col":i==="coordenador"?"5":"3",children:e.jsx("output",{className:`outputAv outputAvStud outputAvStud${t-1}`,id:`outpTelStud-row${t}`,"data-title":`email-stud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"5":"3","data-aloc":"tel-stud",children:`${n.tel||"Não fornecido"}`})}),e.jsx("td",{className:"celAreaStud","data-row":t,"data-col":i==="coordenador"?"6":"4",children:e.jsx("output",{className:`outputAvStud ouputAvStud${t-1}`,id:`outpAreaStud-row${t}`,"data-title":`area-stud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"6":"4","data-aloc":"area-stud",children:`${n.area||"Não definido"}`})}),e.jsx("td",{className:"celDayStud","data-row":t,"data-col":i==="coordenador"?"7":"5",children:e.jsx("output",{className:`outputAvStud ouputAvStud${t-1}`,id:`outpDayStud-row${t}`,"data-title":`day-stud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"7":"5","data-aloc":"day-stud",children:`${n.day||"Não definido"}`})}),e.jsx("td",{className:"celIntervStud","data-row":t,"data-col":i==="coordenador"?"8":"6",children:e.jsx("output",{className:`outputAvStud outputAvStud ouputAvStud${t-1}`,id:`outpIntervStud-row${t}`,"data-title":`interv-stud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"8":"6","data-aloc":"interv-stud",children:`${Y(n.start_day)||"Não definido"} — ${Y(n.end_day)||"Não definido"}`})}),!o&&i==="coordenador"&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{className:"celAlterStud","data-row":t,"data-col":"9",children:[e.jsx("button",{type:"button",id:"btnAlterRegstStud",className:"btn btn-info btnAffectRegst btnAlterRegst opaquelightEl",onClick:()=>s(!l),"data-row":t,"data-col":"9",children:e.jsx("small",{role:"textbox",className:"bolded fontLightWt","data-row":t,"data-col":"9",children:"Alterar"})}),l&&e.jsx(Ie,{dispatch:s,tabRef:r,state:l,name:n.name})]}),e.jsx("td",{"data-row":t,"data-col":"10",children:e.jsx(He,{context:"Stud"})})]}),o&&e.jsx("td",{className:"alocCel","data-row":t,"data-col":i==="coordenador"?"9":"7",children:e.jsx("button",{className:"btnAloc btnAlocStud btn btn-success widFull",id:`btnAlocStud-row${t}`,"data-row":t,"data-col":i==="coordenador"?"9":"7",children:e.jsx("span",{role:"textbox","data-row":t,"data-col":i==="coordenador"?"9":"7",children:"Alocar"})})})]})}function Je(){const r=x.useContext(D).userClass,t=x.useMemo(()=>[],[]),o=x.useRef(null),n=x.useRef(null),l=x.useRef(null),s=x.useRef(null),i=x.useCallback(()=>{de([...document.querySelectorAll(".form-padded"),...document.querySelectorAll(".ovFlAut"),...document.querySelectorAll("[scrollbar-width=none]")],[!1,0],!0,[document.getElementById("sectStudsTab")]),document.querySelector("table").style.minHeight="revert"},[]);return x.useEffect(()=>{try{if(!(l.current instanceof HTMLTableSectionElement))throw E(l.current,"Validation of Table Body instance",h(new Error));if(t.length>0&&l.current.querySelector("tr"))return;setTimeout(()=>{t.length>0||we("studs","_table",!0).then(a=>{var f;a.forEach(d=>{!t.includes(d)&&t.push({name:d.name,tel:d.tel,email:d.email,area:d.area,start_day:d.start_day,end_day:d.end_day,day:d.day,cpf:d.cpf,dre:d.dre})});try{if(!(n.current instanceof HTMLElement))throw E(n.current,"Validation of Table reference",h(new Error));if(!(l.current instanceof HTMLElement))throw E(l.current,"Validation of Table Body Reference",h(new Error));b[`${l.current.id}`]&&!b[`${l.current.id}`]._internalRoot?setTimeout(()=>{var d,p,m;try{if(!(n.current instanceof HTMLElement))throw E(n.current,"Validation of Table reference",h(new Error));if(!(l.current instanceof HTMLElement))throw E(l.current,"Validation of Table Body Reference",h(new Error));if(l.current.querySelector("tr"))return;if((d=b[`${l.current.id}`])==null||d.unmount(),delete b[`${l.current.id}`],l.current.remove(),b[`${n.current.id}`]||(b[`${n.current.id}`]=P(n.current)),(p=b[`${n.current.id}`])==null||p.render(e.jsxs(H,{FallbackComponent:()=>e.jsx(q,{message:"Error reloading replacement for table body"}),children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",children:e.jsxs("em",{children:["Lista Recuperada da Ficha de Estudantes registrados. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[r==="coordenador"&&e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-row1",children:[r==="coordenador"&&e.jsx("th",{scope:"col",children:"CPF"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"DRE"}),e.jsx("th",{scope:"col",children:"Nome"}),e.jsx("th",{scope:"col",children:"E-mail"}),e.jsx("th",{scope:"col",children:"Telefone"}),e.jsx("th",{scope:"col",children:"Área de Atividade"}),e.jsx("th",{scope:"col",children:"Dia de Atividade"}),e.jsx("th",{scope:"col",children:"Período de Atividade"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Alteração"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Exclusão"})]})}),e.jsx("tbody",{ref:l,children:e.jsx("span",{style:{margin:"2rem",position:"absolute"},children:e.jsx(le,{spinnerClass:"spinner-border",spinnerColor:"text-info",message:"Loading Students Table..."})})})]})),l.current=document.getElementById("studsTbody"),!(l.current instanceof HTMLElement))throw E(l.current,"Validation of replaced tbody",h(new Error));b[`${l.current.id}`]||(b[`${l.current.id}`]=P(l.current)),l.current.querySelector("tr")||(m=b[`${l.current.id}`])==null||m.render(t.map((u,g)=>e.jsx(Qe,{nRow:g+2,stud:u,tabRef:n},`stud_row__${g+2}`))),setTimeout(()=>{var u;(n==null?void 0:n.current)instanceof HTMLTableElement?(z(n.current),se(n.current)):E(n.current,`tabRef id ${((u=n==null?void 0:n.current)==null?void 0:u.id)||"UNIDENTIFIED"} in useEffect() for tableRef`,h(new Error))},300)}catch(u){console.error(`Error executing scheduled rendering of Table Body Content Replacement:
${u.message}`)}},1e3):b[`${l.current.id}`]=P(l.current),l.current.querySelector("tr")||(f=b[`${l.current.id}`])==null||f.render(t.map((d,p)=>{var m,u;return Array.from(((m=l.current)==null?void 0:m.querySelectorAll("output"))??[]).some(g=>g.innerText===d.cpf)||Array.from(((u=l.current)==null?void 0:u.querySelectorAll("tr"))??[]).some(g=>{var j;return g.dataset.key&&((j=l.current)==null?void 0:j.querySelector(`tr[data-key=${g.dataset.key}`))})?e.jsx(e.Fragment,{}):e.jsx(Qe,{nRow:p+2,stud:d,tabRef:n},`stud_row__${p+2}`)})),setTimeout(()=>{var d;(n==null?void 0:n.current)instanceof HTMLTableElement?(z(n.current),se(n.current)):E(n.current,`tabRef id ${((d=n==null?void 0:n.current)==null?void 0:d.id)||"UNIDENTIFIED"} in useEffect() for tableRef`,h(new Error))},300),setTimeout(()=>{var d;!document.querySelector("tr")&&document.querySelector("table")&&(b[`${document.querySelector("table").id}`]||(b[`${document.querySelector("table").id}`]=P(document.querySelector("table"))),(d=b[`${document.querySelector("table").id}`])==null||d.render(e.jsx(q,{message:"Failed to render table"})))},5e3)}catch(d){console.error(`Error executing rendering of Table Body Content:
${d.message}`)}const c=()=>{try{if(!(n.current instanceof HTMLElement))throw E(n.current,"Validation of Table instance",h(new Error));z(n.current),Me(n.current),document.getElementById("btnExport")&&B(r,["coordenador"],n.current,document.getElementById("btnExport"))}catch(d){console.error(`Error executing handleAttempt for Professionals table:
${d.message}`)}};setTimeout(()=>{var d;(d=l.current)!=null&&d.querySelector("tr")?c():setTimeout(()=>c(),1800)},1200)}).catch(a=>console.error(`Failed to fetch from Students Table: ${a.message}`)).finally(()=>{setTimeout(()=>{var a;return w([...((a=n.current)==null?void 0:a.querySelectorAll("*"))??[],n.current])},1200),setTimeout(()=>{var a;return w([...((a=n.current)==null?void 0:a.querySelectorAll("*"))??[],n.current])},3e3)})},300)}catch(a){console.error(`Error executing useEffect for Table Body Reference:
${a.message}`)}},[r]),x.useEffect(()=>{if((o==null?void 0:o.current)instanceof HTMLFormElement){const a=s.current||o.current.querySelector("#btnExport");a instanceof HTMLButtonElement?K(o.current):E(a,"<button> for triggering generation of spreadsheet in the table for checking students",h(new Error)),i(),w([...o.current.querySelectorAll("*"),o.current])}else E(o==null?void 0:o.current,"formRef.current in useEffect() for TabStudForm",h(new Error))},[o,i]),x.useEffect(()=>{n.current instanceof HTMLElement&&B(r,["coordenador","supervisor"],n.current,document.getElementById("btnExport"))},[n,r]),ce("tabStudExporter",o.current),x.useEffect(()=>Z(o.current)),e.jsxs("form",{id:"formRemoveStud",name:"form_studs_table",action:"studs_table",encType:"multipart/form-data",method:"get",target:"_top",ref:o,className:"form-padded-nosb wid101",children:[e.jsxs("div",{role:"group",className:"wsBs flexNoWC cGap1v",children:[e.jsx("h1",{className:"mg-3b bolded",children:e.jsx("strong",{id:"titleTabStuds",children:"Tabela de Estudantes Registrados"})}),e.jsx("em",{children:e.jsx("small",{role:"textbox",children:"Verifique aqui as informações para leitura, alteração e remoção de estudantes"})})]}),e.jsx("hr",{}),e.jsx("section",{className:"form-padded pdL0 mg-0b",id:"sectStudsTab",children:e.jsxs("table",{className:"table table-striped table-responsive table-hover tabPacs",id:"avPacsTab",ref:n,children:[e.jsx("caption",{className:"caption-t",children:e.jsx("strong",{children:e.jsx("small",{role:"textbox",children:e.jsxs("em",{children:["Lista Recuperada da Ficha de Estudantes registrados. Acesse",e.jsx("samp",{children:e.jsx("a",{children:" ROTA_PLACEHOLDER "})}),"para cadastrar"]})})})}),e.jsxs("colgroup",{children:[r==="coordenador"&&e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{}),r==="coordenador"&&e.jsx("col",{})]}),e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{id:"avPacs-row1",children:[r==="coordenador"&&e.jsx("th",{scope:"col",children:"CPF"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"DRE"}),e.jsx("th",{scope:"col",children:"Nome"}),e.jsx("th",{scope:"col",children:"E-mail"}),e.jsx("th",{scope:"col",children:"Telefone"}),e.jsx("th",{scope:"col",children:"Área de Atividade"}),e.jsx("th",{scope:"col",children:"Dia de Atividade"}),e.jsx("th",{scope:"col",children:"Período de Atividade"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Alteração"}),r==="coordenador"&&e.jsx("th",{scope:"col",children:"Exclusão"})]})}),e.jsx("tbody",{ref:l,children:e.jsx("span",{style:{margin:"2rem",position:"absolute"},children:e.jsx(le,{spinnerClass:"spinner-border",spinnerColor:"text-info",message:"Loading Students Table..."})})})]})}),e.jsx("button",{type:"button",id:"btnExport",className:"btn btn-success flexAlItCt flexJC flexBasis50 bolded widQ460FullW",name:"btnExportTabStuds",ref:s,"data-active":"false",title:"Gere um .xlsx com os dados preenchidos",onClick:a=>{I.tabStudExporter||(I.tabStudExporter=new X),I.tabStudExporter.handleExportClick(a,"tabelaDeEstudantes",document.getElementById("titleTabStuds")??o.current??document,`d${new Date().getDate()}_m${new Date().getMonth()+1}_y${new Date().getFullYear()}`)},children:"Gerar Planilha"})]})}function Pe(){const r=x.useContext(D).userClass,[t]=x.useState(!0),o=x.useRef(null),n=x.useRef(null),l=x.useRef(null),s=x.useRef(null),i=x.useCallback(()=>{var c;de([...document.querySelectorAll(".form-padded"),...document.querySelectorAll(".ovFlAut"),...document.querySelectorAll("[scrollbar-width=none]")]);const a=(c=document.getElementById("avPacsTab"))==null?void 0:c.nextElementSibling;(a==null?void 0:a.id)===""&&a instanceof HTMLDivElement&&a.remove()},[]);return x.useEffect(()=>Z(o.current)),x.useEffect(()=>{if((o==null?void 0:o.current)instanceof HTMLFormElement){G.globalDataProvider&&G.globalDataProvider.initPersist(o.current,G.globalDataProvider);const a=o.current.querySelector("#inpEmailStud"),c=o.current.querySelector("#inpNameStud"),f=Array.from(o.current.querySelectorAll('input[type="date"]')),d=document.getElementById("deactAutofilltBtnStud"),p=document.getElementById("deactAutocorrectBtnStud");d instanceof HTMLInputElement?(d.checked=!0,$.isAutofillStudOn=!0,d.addEventListener("change",()=>{$.isAutofillStudOn=!$.isAutofillStudOn,a instanceof HTMLInputElement&&W(a),n.current instanceof HTMLInputElement&&ae(n.current),l.current instanceof HTMLInputElement&&ie(l.current)})):A(d,"Element for toggling autofill in new Student form",h(new Error)),p instanceof HTMLInputElement&&(p.type==="checkbox"||p.type==="radio")?(p.checked=!0,$.isAutocorrectStudOn=!0,p.addEventListener("change",()=>{$.isAutocorrectStudOn=!$.isAutocorrectStudOn,c instanceof HTMLInputElement&&ne(c)})):E(p,"toggleAutocorrect in StudentForm",h(new Error)),c instanceof HTMLInputElement?c.addEventListener("input",()=>{p instanceof HTMLInputElement&&p.checked===!0?$.isAutocorrectStudOn=!0:$.isAutocorrectStudOn=!1,ne(c,$.isAutocorrectStudOn)}):A(c,"nameInput in form for new Student register",h(new Error)),a instanceof HTMLInputElement?(a.addEventListener("input",()=>{($.isAutofillStudOn||d instanceof HTMLInputElement&&d.checked)&&W(a)}),a.addEventListener("click",()=>{($.isAutofillStudOn||d instanceof HTMLInputElement&&d.checked)&&W(a)})):A(a,"emailInput in form for new students",h(new Error));const m=s.current||document.querySelector("#btnExport");if(m instanceof HTMLButtonElement?K(o.current):E(m,"exportBtn in New Student form",h(new Error)),f.length>0&&f.every(u=>u instanceof HTMLInputElement&&u.type==="date")){Le(f);for(const u of f)u.value=`${new Date().getFullYear()}-${(new Date().getMonth()+1).toString().padStart(2,"0")}-${new Date().getDate().toString().padStart(2,"0")}`,u.style.color="initial"}else C(f,"dateInputs in form for new students",h(new Error));i(),w([...o.current.querySelectorAll("*"),o.current])}else A(o.current,"formRef.current in useEffect()",h(new Error))},[o,i]),x.useEffect(()=>{n.current instanceof HTMLInputElement&&n.current.id.match(/cpf/gi)&&n.current.addEventListener("input",()=>{$.isAutofillStudOn&&ae(n.current)})},[]),x.useEffect(()=>{(l==null?void 0:l.current)instanceof HTMLInputElement&&l.current.id.match(/tel/gi)?l.current.addEventListener("input",()=>{$.isAutofillStudOn&&ie(l.current,!0)}):A(l.current,"telStudRef.current in useEffect()",h(new Error))},[]),x.useEffect(()=>{o.current instanceof HTMLElement&&B(r,["supervisor","coordenador"],...document.getElementsByTagName("input"),...document.getElementsByTagName("button"),...document.querySelector("form").getElementsByTagName("select"))},[o,r]),ce("studExporter",o.current,!0),e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Erro carregando formulário para profissionais"}),children:t&&e.jsxs("form",{id:"formAddStud",name:"form_stud",action:"submit_stud_form",encType:"application/x-www-form-urlencoded",method:"post",target:"_top",autoComplete:"on",ref:o,onSubmit:a=>(r==="coordenador"||r==="supervisor")&&Ke(a,a.currentTarget).then(c=>c[0]?Ze("studs",c[2],!0):a.preventDefault()),children:[e.jsxs("div",{role:"group",id:"formAddStudHDiv",className:"mg-3b",children:[e.jsx("h1",{id:"titleAddStudHBlock",className:"bolded",children:e.jsx("strong",{children:"Cadastro de Aluno"})}),e.jsx("small",{role:"textbox",id:"detailsAddStudHBlock",children:e.jsx("em",{children:"Detalhe aqui os dados de entrada para um novo estudante"})})]}),e.jsxs("div",{role:"group",className:"flexNoWR flexQ460NoWC",children:[e.jsxs("span",{role:"group",className:"form-switch spanRight",id:"autocorrectDivStud",children:[e.jsx("input",{type:"checkbox",className:"deActBtn form-check-input",role:"switch",id:"deactAutocorrectBtnStud",title:"Correção automática de Nomes","data-title":"Autocorreção(Estudante)"}),e.jsx("strong",{children:"Autocorreção"})]}),e.jsxs("span",{role:"group",className:"form-switch spanRight",id:"autofillDivStud",children:[e.jsx("input",{type:"checkbox",className:"deActBtn form-check-input",role:"switch",id:"deactAutofilltBtnStud",title:"Correção automática de CPF, Telefone e E-mail","data-title":"Autopreenchimento(Estudante)"}),e.jsx("strong",{children:"Autopreenchimento"})]})]}),e.jsx("hr",{className:"rdc05rHr460Q"}),e.jsxs("fieldset",{className:"flexColumn",id:"formAddStudBodyFs",children:[e.jsxs("label",{htmlFor:"inpNameStud",children:[e.jsx("strong",{id:"titleNameStud",children:"Nome Completo:"}),e.jsx("input",{type:"text",list:"listStudRegstName",id:"inpNameStud",name:"name",className:"form-control autocorrectAll ssPersist minText maxText patternText",placeholder:"Preencha com o nome completo",autoFocus:!0,autoComplete:"given-name",autoCapitalize:"true","data-title":"Nome Completo: Aluno","data-reqlength":"3","data-maxlength":"99","data-pattern":"[^0-9]","data-flags":"gi",minLength:3,maxLength:99,required:!0,onInput:a=>{k(a.currentTarget),window&&localStorage.setItem("name",a.currentTarget.value)}}),e.jsx("datalist",{id:"listStudRegstName"})]}),e.jsxs("label",{htmlFor:"inpCPFStud",children:[e.jsx("strong",{id:"titleCPFStud",children:"CPF:"}),e.jsx("input",{type:"text",list:"listStudRegstCPF",id:"inpCPFStud",name:"cpf",className:"form-control ssPersist minText maxText patternText",minLength:15,maxLength:16,placeholder:"Preencha com o CPF",autoComplete:"username",pattern:"^(\\d{3}\\.?\\d{3}\\.?\\d{3}-?\\d{2})$","data-title":"CPF Estudante","data-reqlength":"15","data-max-length":"16","data-pattern":"^(d{3}.){2}d{3}-d{2}$",required:!0,ref:n,onInput:a=>k(a.currentTarget)}),e.jsx("datalist",{id:"listStudRegstCPF"})]}),e.jsxs("label",{htmlFor:"inpDRE",children:[e.jsx("strong",{id:"titleDREStud",children:"DRE:"}),e.jsx("input",{type:"number",id:"inpDRE",name:"dre",className:"form-control ssPersist minText maxText patternText",list:"listStudRegstDRE",minLength:1,maxLength:12,pattern:"/^\\d{9,}$/",placeholder:"Preencha com o DRE",autoComplete:"username","data-title":"DRE","data-reqlength":"1","data-maxlength":"12","data-pattern":"^\\d{9,}$",required:!0,onInput:a=>k(a.currentTarget)}),e.jsx("datalist",{id:"listStudRegstDRE"})]}),e.jsxs("label",{htmlFor:"inpTel",children:[e.jsx("strong",{id:"titleTelStud",children:"Telefone (com DDD):"}),e.jsx("input",{type:"tel",list:"listStudRegstTel",id:"inpTel",name:"telephone",pattern:"/^(\\+\\d{2}\\s?)?(\\(\\d{2}\\)\\s?)?\\d{3,5}[-\\s]?\\d{4}$/",className:"form-control ssPersist minText maxText patternText",minLength:8,maxLength:20,placeholder:"Preencha com o Telefone para contato",autoComplete:"tel","data-title":"Telefone Estudante","data-reqlength":"8","data-maxlength":"20","data-pattern":"^(\\+\\d{2}\\s?)?(\\(\\d{2}\\)\\s?)?\\d{3,5}[-\\s]?\\d{4}$",required:!0,ref:l,onInput:a=>k(a.currentTarget)}),e.jsx("datalist",{id:"listStudRegstTel"})]}),e.jsxs("label",{htmlFor:"inpEmailStud",children:[e.jsx("strong",{id:"titleEmailStud",className:"forceInvert",children:"E-mail:"}),e.jsx("input",{type:"email",list:"listStudRegstEmail",id:"inpEmailStud",name:"email",className:"form-control ssPersist",placeholder:"Preencha com o E-mail para contato",autoComplete:"email","data-title":"E-mail",onInput:a=>je(a.currentTarget,{min:6,pattern:["@","g"]})}),e.jsx("datalist",{id:"listStudRegstEmail"})]}),e.jsxs("label",{htmlFor:"inpCourseStud",children:[e.jsx("strong",{id:"titleOrigStud",children:"Curso de Origem:"}),e.jsx("input",{type:"text",list:"listCoursesStud",id:"inpCourseStud",name:"origin",className:"form-control ssPersist minText maxText patternText",minLength:3,maxLength:99,placeholder:"Preencha com o Curso do Estudante",autoCapitalize:"true","data-title":"Curso de Origem do Estudante","data-reqlength":"3","data-maxlength":"99","data-pattern":"educação\\sfísica|medicina|nutrição|odontologia|psicologia",required:!0,onInput:a=>k(a.currentTarget)}),e.jsx("datalist",{id:"listCoursesStud",children:["Educação Física","Medicina","Nutrição","Odontologia","Psicologia"].map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("label",{htmlFor:"inpAtuacaoStud",children:[e.jsx("strong",{id:"titleActStud",className:"forceInvert",children:"Área de atuação:"}),e.jsxs("select",{id:"inpAtuacaoStud",name:"area",className:"form-select ssPersist","data-title":"Área de Atuação do Estudante",required:!0,children:[e.jsx("option",{value:"educacaofisicanut",children:"Educação Física & Nutrição"}),e.jsx("option",{value:"odontologia",children:"Odontologia"}),e.jsx("option",{value:"psiq",children:"Psiquiatria & Psicologia"})]})]}),e.jsxs("label",{htmlFor:"inpPeriodo",children:[e.jsx("strong",{children:"Período Atual:"}),e.jsx("input",{type:"number",id:"inpPeriodo",name:"curr_semester",min:1,max:20,minLength:1,maxLength:2,className:"form-control ssPersist minText maxText minNum maxNum patternText",placeholder:"Preencha com o Período Atual do aluno (em número simples)","data-title":"Período Atual Estudante","data-reqlength":"1","data-maxlength":"2","data-minnum":"1","data-maxnum":"20","data-pattern":"^\\d+$",required:!0,onInput:a=>k(a.currentTarget)}),e.jsx("datalist",{id:"listPeriodos",children:Array.from({length:15},(a,c)=>c+1).map((a,c)=>e.jsx("option",{value:a,children:a},`${a}_${c}`))})]}),e.jsxs("label",{htmlFor:"inpEntr",children:[e.jsx("strong",{children:"Período de Entrada no Projeto:"}),e.jsx("input",{type:"text",id:"inpEntr",name:"beginning_semester",className:"form-control ssPersist",placeholder:"Preencha com o Período do Aluno (ano.semestre, em número) na sua entrada","data-title":"Período de Entrada do aluno",onInput:a=>je(a.currentTarget,{min:1,max:2,minNum:1,maxNum:20,pattern:["^\\d+$",""]})})]}),e.jsxs("label",{htmlFor:"inpDayEntr",className:"forceInvert",children:[e.jsx("strong",{className:"forceInvert",children:"Dia de Entrada no Projeto:"}),e.jsx("input",{type:"date",id:"inpDayEntr",name:"beginning_day",className:"form-control forceInvert ssPersist maxCurrDate",placeholder:"Preencha com o Dia de Entrada do Aluno no projeto","data-title":"Dia de Entrada do aluno",required:!0})]}),e.jsxs("span",{role:"group",id:"spanDias",className:"mg-3b flexNoWC rGap1v",children:[e.jsx("strong",{className:"forceInvert",children:"Dias de Atividade:"}),e.jsxs("div",{role:"group",id:"divDiasAtv",className:"flexSimple flexLineDiv flexQ460R",children:[e.jsxs("label",{className:"flexWR gapped1v",id:"labQuarta",children:[e.jsx("slot",{className:"bolded lcPersist",role:"textbox",id:"titleQuarta",contentEditable:"true",title:"Modifique o rótulo de dia selecionando-o e digitando",children:"Quarta-feira"}),e.jsx("input",{type:"checkbox",id:"checkQuarta",name:"quarta-feira",className:"form-check-input mdGreen ssPersist","data-title":"Quarta-feira"})]}),e.jsxs("label",{className:"flexWR gapped1v",id:"labSexta",children:[e.jsx("slot",{className:"bolded lcPersist",role:"textbox",id:"titleSexta",contentEditable:"true",title:"Modifique o rótulo de dia selecionando-o e digitando",children:"Sexta-Feira"}),e.jsx("input",{type:"checkbox",id:"checkSexta",name:"sexta-feira",className:"form-check-input mdGreen ssPersist","data-title":"Sexta-feira"})]})]})]}),e.jsxs("div",{role:"group",className:"flexNoW flexJSe cGap2v flexAlItCt flexQ900NoWC rGapQ9002v noInvert",children:[e.jsx("button",{type:"submit",id:"btnSubmitNewStud",className:"btn btn-success flexAlItCt flexJC flexBasis50 widFull noInvert",children:e.jsx("strong",{children:"Finalizar Cadastro"})}),e.jsx("button",{id:"btnExport",type:"button",className:"btn btn-primary flexAlItCt flexJC flexBasis50 widFull bolded noInvert",ref:s,"data-active":"false",title:"Gere um .xlsx com os dados preenchidos",onClick:a=>{var c;I.studExporter||(I.studExporter=new X),I.studExporter.handleExportClick(a,"newStudent",o.current??document,((c=localStorage.getItem("name"))==null?void 0:c.replace(/\s/g,"-"))||"anonymous")},children:"Gerar Planilha"}),e.jsx(rt,{root:b.mainRoot,renderForm:e.jsx(Pe,{})})]})]})]})})}function V(){const r=x.useRef(null);return x.useEffect(()=>{r.current&&w(r.current)},[]),e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Erro carregando componente de desautorização"}),children:e.jsxs("article",{ref:r,children:[e.jsxs("h3",{children:["Você ",e.jsx("em",{className:"noInvert",children:"não possui autorização"})," para acessar essa tela! ",e.jsx("span",{children:"✋🚫"})]}),e.jsxs("small",{children:[e.jsxs("strong",{className:"noInvert",children:["Mude sua opção ou recarregue a página ",e.jsx("span",{children:"🔁"})]})," "]})]})})}const Bt=x.lazy(()=>ut(()=>import("./ScheduleForm-HFFVwHmR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])));function Ye(){const r=x.useContext(D).userClass;return e.jsx(x.Suspense,{fallback:e.jsx(dt,{scale:.5}),children:e.jsx(Bt,{context:!1,userClass:r})})}function Dt({defOp:r="agenda"}){const{userClass:t,setUserClass:o}=x.useContext(D);console.log("render user class "+t);const[n,l]=x.useState(r),[s,i]=x.useState(!1),a=x.useRef(null),c=x.useContext(ft);x.useEffect(()=>{var u;const p=localStorage.getItem("activeUser")?(u=JSON.parse(localStorage.getItem("activeUser")).loadedData)==null?void 0:u.privilege:Xe.loadedData.privilege;let m="estudante";p==="coordinator"?m="coordenador":m=p,o(m),i(!0)},[o]);const f=p=>{console.log("User class in render:"),console.log(t);try{const m=document.getElementById("formRoot");if(!(m instanceof HTMLElement))throw E(m,"Validation of Form Roots Element in Schedule",h(new Error));c.roots.formRoot||(c.roots.formRoot=P(m)),c.roots.formRoot.render((u=>{switch(console.log(`Rendering for ${u}...`),u){case"registStud":return t==="coordenador"||t==="supervisor"?e.jsx(Pe,{}):e.jsx(V,{});case"registProf":return t==="coordenador"?e.jsx(Ae,{}):e.jsx(V,{});case"removeStud":return t==="coordenador"||t==="supervisor"?e.jsx(Je,{}):e.jsx(V,{});case"removeProf":return t==="coordenador"||t==="supervisor"?e.jsx(Ge,{}):e.jsx(V,{});case"pacList":return e.jsx(We,{});case"agenda":return e.jsx(Ye,{});default:return U(u,"opt in renderSelectedForm()",h(new Error)),e.jsx(At,{})}})(p))}catch(m){console.error(`Error executing procedure fro rendering on formRoot:
${m.message}`)}},d=p=>{const m=typeof p=="object"&&"target"in p?p.target.value:p;history.pushState({},"",`${location.origin}${location.pathname.endsWith("/")?location.pathname.slice(0,-1):location.pathname}?panel=${be(m)}`.replace("/?","?").replace("/#","#")),setTimeout(()=>{history.pushState({},"",`${location.href}`.replace("/?","?").replace("/#","#"))},300)};return x.useEffect(()=>{G.globalDataProvider=new $e(sessionStorage),ht("panel","Panel Page Style"),d(r)},[t,r]),x.useEffect(()=>{setTimeout(()=>{try{const p=document.getElementById("formRoot"),m=document.getElementById("coordPanelSelect");if(!(p instanceof HTMLElement))throw E(p,"Validation of Option Selection Element",h(new Error));if(!(m instanceof HTMLSelectElement||m instanceof HTMLInputElement))throw A(m,"Validation of Select for panel instance",h(new Error));c.roots.formRoot||(c.roots.formRoot=P(p));const u=mt(location.search);console.log([u,location.search]),p.style.transition="",p.style.opacity="0",setTimeout(()=>{const g=document.getElementById("formRoot");g instanceof HTMLElement&&(g.style.transition="opacity 0.3s ease-in-out",g.style.opacity="1")},300),/registStud/gi.test(u)?(c.roots.formRoot.render(t==="coordenador"||t==="supervisor"?e.jsx(Pe,{}):e.jsx(V,{})),m.value="registStud"):/registProf/gi.test(u)?(c.roots.formRoot.render(t==="coordenador"?e.jsx(Ae,{}):e.jsx(V,{})),m.value="registProf"):/removeProf/gi.test(u)?(c.roots.formRoot.render(t==="coordenador"||t==="supervisor"?e.jsx(Ge,{}):e.jsx(V,{})),m.value="removeProf"):/removeStud/gi.test(u)?(console.log("removestud"),history.replaceState({},"",location.search.replace("agenda","remove-stud")),m.value="removeStud",c.roots.formRoot.render(t==="coordenador"||t==="supervisor"?e.jsx(Je,{}):e.jsx(V,{}))):/agenda/gi.test(u)?(c.roots.formRoot.render(e.jsx(Ye,{})),m.value="agenda"):/pacList/gi.test(u)?(c.roots.formRoot.render(e.jsx(We,{})),m.value="pacList"):history.pushState({},"",`${location.origin}${location.pathname}?panel=${r}`)}catch(p){console.error(`Error executing procedure for adjusting selected panel option based on route:
${p.message}`)}},500)},[t,c.roots,r]),x.useEffect(()=>{setTimeout(()=>{const p=document.getElementById("formSelDiv");s&&p instanceof HTMLElement&&!document.querySelector("select")?(p.innerHTML="",c.roots.rootSel||(c.roots.rootSel=P(p)),c.roots.rootSel.render(e.jsx(Re,{}))):setTimeout(()=>{var u;const m=document.getElementById("formSelDiv");(u=document.getElementById("formSelDiv"))!=null&&u.querySelector("select")||(E(m,"selDiv during DOM initialization",h(new Error)),m instanceof HTMLElement&&(m.innerHTML="",c.roots.rootSel||(c.roots.rootSel=P(m)),c.roots.rootSel.render(e.jsx(Re,{}))))},2e3)},3e3)},[s,c.roots]),x.useEffect(()=>{var p;a.current instanceof HTMLElement&&(w([...((p=document.getElementById("formPanelDiv")??document)==null?void 0:p.querySelectorAll("*"))??null,document.getElementById("formPanelDiv")]),b.mainRoot||(b.mainRoot=P(a.current)))},[s]),s?e.jsxs(H,{FallbackComponent:()=>e.jsx(q,{message:"Error loading Selector for Working Panel"}),children:[e.jsxs("div",{role:"group",className:"flexWR mg-3b pdL1v900Q pdR1v900Q pdL2v460Q pdR2v460Q noInvert",children:[e.jsx("strong",{id:"titlePanelSelect",title:"Selecione aqui o painel em tela",children:"Escolha o Painel de Trabalho"}),e.jsxs("select",{className:"form-select",id:"coordPanelSelect",name:"actv_panel","data-title":"Opção de Painel Ativa",value:n,onChange:p=>{l(p.target.value),d(p.target.value),f(p.target.value);const m=document.getElementById("formRoot");m instanceof HTMLElement&&(m.style.transition="",m.style.opacity="0"),setTimeout(()=>{const u=document.getElementById("formRoot");u instanceof HTMLElement&&(u.style.transition="opacity 0.3s ease-in-out",u.style.opacity="1")},300)},autoFocus:!0,required:!0,children:[e.jsxs("optgroup",{id:"grpRegst",label:"Registro",children:[(t==="coordenador"||t==="supervisor")&&e.jsx("option",{value:"registStud",children:"Cadastrar Aluno"}),t==="coordenador"&&e.jsx("option",{value:"registProf",children:"Cadastrar Membro Profissional"}),(t==="coordenador"||t==="supervisor")&&e.jsx("option",{value:"removeStud",children:"Lista de Alunos"}),(t==="coordenador"||t==="supervisor")&&e.jsx("option",{value:"removeProf",children:"Lista de Membros Profissionais"}),e.jsx("option",{value:"pacList",children:"Lista de Pacientes"})]}),e.jsx("optgroup",{id:"grpDates",label:"Datas",children:e.jsx("option",{value:"agenda",children:"Agendamento"})})]})]}),e.jsx("hr",{}),e.jsx("div",{role:"group",ref:a,id:"formRoot",children:e.jsx(H,{FallbackComponent:()=>e.jsx(q,{message:"Error rendering Selected Form for Panel"})})})]}):e.jsx(e.Fragment,{})}const Kt=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"}));export{qt as P,rt as R,Qe as S,bt as a,ze as b,Gt as c,Ht as d,Xt as e,se as f,Mt as g,B as h,Yt as i,_ as j,Wt as k,zt as l,Ut as m,Ce as n,$ as o,re as p,Qt as q,Jt as r,Me as s,N as t,ce as u,$t as v,vt as w,v as x,jt as y,Kt as z};
